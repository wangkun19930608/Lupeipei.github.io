<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="æ›²è‚±è€Œæ•">
<meta property="og:type" content="website">
<meta property="og:title" content="Lucia">
<meta property="og:url" content="http://lupeipei.github.io/index.html">
<meta property="og:site_name" content="Lucia">
<meta property="og:description" content="æ›²è‚±è€Œæ•">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lucia">
<meta name="twitter:description" content="æ›²è‚±è€Œæ•">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://lupeipei.github.io/"/>





  <title> Lucia </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Lucia</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/02/09/how-add-jquery-plugin-magnify-on-rails/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/02/09/how-add-jquery-plugin-magnify-on-rails/" itemprop="url">
                  ä¸€æ¬¾è¶…å¥½ç”¨çš„å›¾ç‰‡é¢„è§ˆæ’ä»¶Magnify
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-02-09T12:03:40+08:00">
                2018-02-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/09/how-add-jquery-plugin-magnify-on-rails/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/02/09/how-add-jquery-plugin-magnify-on-rails/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>åœ¨æ‰¾å›¾ç‰‡é¢„è§ˆçš„jQurey pluginæ—¶å‘ç°äº†è¿™ä¸ª<a href="https://nzbin.github.io/magnify/" target="_blank" rel="external">Magnify</a>ï¼ŒçœŸçš„æ˜¯å¥½ç”¨ï¼Œå®˜æ–¹æ•ˆæœå›¾ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1foa0vblhsmg30sb0ihb29.gif" alt=""></p>
<p>åœ¨é¡¹ç›®ä¸­ç”¨å®ƒæ¥åšå›¾ç‰‡é¢„è§ˆï¼Œå¾ˆèµï¼</p>
<p>å…·ä½“çš„ä½¿ç”¨æ–¹æ³•ï¼Œ<a href="https://nzbin.github.io/magnify/" target="_blank" rel="external">Magnify</a> çš„Usageéƒ¨åˆ†å·²ç»æœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œä¸è¿‡åœ¨Rails ä¸­ï¼Œæ€ä¹ˆç”¨å‘¢ï¼Ÿè¿™ä¸ªé—®é¢˜å…¶å®å°±æ˜¯å¦‚ä½•åœ¨Railsä¸­ä½¿ç”¨jQurey pluginã€‚</p>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>å¾ˆç®€å•ï¼Œä¸‰æ­¥å³å¯ã€‚</p>
<p>ä¸€ã€ä¸‹è½½ç›¸å…³çš„JSå’ŒCSSæ–‡ä»¶ï¼Œå¹¶åŒ…å«åœ¨Railsé¡¹ç›®ä¸­å¯¹åº”çš„æ–‡ä»¶å¤¹ä¸‹</p>
<p>åœ¨magnifyå¯¹åº”çš„ <a href="https://github.com/nzbin/magnify" target="_blank" rel="external">GitHub repo</a> ä¸­ï¼Œä¸‹è½½æ–‡ä»¶<code>jquery.magnify.css</code>, <code>jquery.magnify.js</code>æˆ–è€…<code>jquery.magnify.min.css</code>, <code>jquery.magnify.min.js</code>(æ¨èåè€…)ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1foa1ckl4c3j30ac06qwey.jpg" alt=""></p>
<p>ä¸‹è½½åï¼Œå°†<code>jquery.magnify.js</code>æ”¾åœ¨app/assets/javascriptsç›®å½•ä¸‹ï¼Œ<code>jquery.magnify.css</code>æ”¾åœ¨app/assets/stylesheetsç›®å½•ä¸‹ã€‚</p>
<p>äºŒã€ä¿®æ”¹<code>application.scss</code>æ–‡ä»¶ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line">+ @import <span class="string">"jquery.magnify"</span>;</div><div class="line">.....</div></pre></td></tr></table></figure>
<p>ä¿®æ”¹<code>application.html.erb</code>æ–‡ä»¶,  åœ¨<head>ä¸­æ·»åŠ ï¼š</head></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">  ......</div><div class="line">+  <span class="tag">&lt;<span class="name">link</span> <span class="attr">href</span>=<span class="string">"https://cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line">.....</div></pre></td></tr></table></figure>
<p>ä¸‰ã€HTMLéƒ¨åˆ†</p>
<p>å›¾ç‰‡å±•ç¤ºéƒ¨åˆ†çš„ä»£ç :</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">data-magnify</span>=<span class="string">"gallery"</span> <span class="attr">href</span>=<span class="string">"image_large_url"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"image_small_url"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<p>æˆ–è€…</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">img</span> <span class="attr">data-magnify</span>=<span class="string">"gallery"</span> <span class="attr">src</span>=<span class="string">"image_small_url"</span> <span class="attr">data-src</span>=<span class="string">"image_large_url"</span>&gt;</span></div></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼šimage_large_urlæŒ‡çš„æ˜¯å›¾ç‰‡å¯¹åº”çš„å¤§å›¾çš„URLï¼Œimage_small_urlæ˜¯å°å›¾çš„URLï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥æ¢æˆå›¾ç‰‡ã€‚</p>
<p>ç±»ä¼¼è¿™æ ·ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">data-magnify</span>=<span class="string">"gallery"</span> <span class="attr">href</span>=<span class="string">"big.jpg"</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"small.jpg"</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">a</span>&gt;</span></div></pre></td></tr></table></figure>
<p>okï¼Œæå®šï¼Œå¼€å§‹ä¸€é¥±çœ¼ç¦å§ï¼</p>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://nzbin.github.io/magnify/" target="_blank" rel="external">magnify</a></p>
<p>å¦ï¼Œæ¨è<a href="http://photoswipe.com/" target="_blank" rel="external">photoswipe</a>ï¼Œ ä¹Ÿè¶…å¥½ç”¨çš„ï¼Œå¯ä»¥è¯•ä¸€è¯•ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/02/08/render-different-show-pages-in-ruby-on-rails/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/02/08/render-different-show-pages-in-ruby-on-rails/" itemprop="url">
                  å¦‚ä½•åœ¨Railsä¸­åˆ‡æ¢ä¸åŒä¸»é¢˜çš„showé¡µé¢ï¼Ÿ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-02-08T08:11:55+08:00">
                2018-02-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/08/render-different-show-pages-in-ruby-on-rails/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/02/08/render-different-show-pages-in-ruby-on-rails/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°"></a>é—®é¢˜æè¿°</h4><p>åœºæ™¯æ˜¯è¿™æ ·çš„ï¼š</p>
<p>æœ‰model projectï¼Œè¦æ±‚projectçš„showé¡µé¢å¯ä»¥åˆ‡æ¢ä¸åŒçš„ä¸»é¢˜ï¼Œæ¯”å¦‚ä¸»é¢˜1ï¼Œä¸»é¢˜2ã€‚</p>
<p>ç±»ä¼¼è¿™æ ·ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fo70rntbj5g30sa07wt9s.gif" alt=""></p>
<p>è²Œä¼¼å¾ˆç®€å•ï¼Œåˆ‡æ¢é¡µé¢è€Œå·²ã€‚ä¸è¿‡railsä¸­ï¼Œproject çš„showé¡µé¢åªæœ‰ä¸€ä¸ª<code>show.html.erb</code>ï¼Œ ä½ å¯èƒ½æƒ³åˆ°æ›¿æ¢éƒ¨åˆ†çš„é¡µé¢ï¼ŒåŠ ä¸Šajaxç‰¹æ•ˆæ¥å®ç°ï¼Œå¦‚æœä½ è¿™ä¹ˆæƒ³ï¼Œé‚£å…ˆæ­å–œä½ ï¼ä½ å·²æˆåŠŸå…¥å‘ï¼ä½ è¦ç»™æŒ‰é’®çš„ç‚¹å‡»è¡Œä¸ºæ·»åŠ methodï¼Œç‚¹å‡»æ—¶ï¼Œå°†éœ€è¦åˆ‡æ¢çš„ä¸»é¢˜å‚æ•°ä¼ é€’ç»™controllerï¼Œç„¶åcontrolleræ ¹æ®è¿™ä¸ªæ¥å†³å®šæ›¿æ¢å“ªä¸ªä¸»é¢˜é¡µé¢ã€‚</p>
<p>ä¸ºäº†ä¸åˆ·æ–°é¡µé¢å°±å®Œæˆåˆ‡æ¢ï¼Œä½ éœ€è¦ç”¨ä¸Šajaxï¼Œè€Œå¯¹äºä¿å­˜é¡µé¢ä¸»é¢˜è¿™å—ï¼Œ ä½ å¯èƒ½ä¼šæƒ³åˆ°ç»™projectæ·»åŠ ä¸ªå­—æ®µthemeå•¥çš„ï¼Œç”¨æ¥åˆ¤æ–­è¯¥åˆ‡æ¢åˆ°å“ªä¸€éƒ¨åˆ†â€¦â€¦å¥½å§ï¼Œå…¶å®ä¸ç”¨è¿™ä¹ˆå¤æ‚ã€‚ã€Œè¿™äº›æˆ‘è¸©è¿‡çš„å‘å°±ä¸è¦å†è¸©äº†ï¼Œ æ•´ä¸ªè¿‡ç¨‹ä¼šè®©ä½ æƒ³å¤šçŒè‡ªå·±ä¸¤å¬å¯ä¹â€¦â€¦ã€</p>
<h4 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h4><p>å…¶å®ï¼Œä»”ç»†æƒ³æƒ³ï¼Œå°±æ˜¯renderåˆ°ä¸åŒçš„showé¡µé¢ï¼ŒåŠ¨ä¸¤å¤„å°±å¥½äº†ã€‚</p>
<p>æˆ‘ä»¬å‡å®šåœ¨app/views/projectsä¸‹ï¼Œ ä¸¤ä¸ªä¸»é¢˜å¯¹åº”çš„é¡µé¢åˆ†åˆ«æ˜¯<code>theme1.html.erb</code>ï¼Œ  <code>theme2.html.erb</code>ã€‚</p>
<p>ä¸¤æ­¥èµ°ã€‚</p>
<p>ä¸€ã€project çš„controllerä¸­showéƒ¨åˆ†ï¼š</p>
<p>åœ¨<code>projects_controller.rb</code>æ–‡ä»¶ä¸­ï¼Œåœ¨showéƒ¨åˆ†ï¼Œæ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ProjectsController</span> &lt; ApplicationController</span></div><div class="line">  .......</div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">show</span></span></div><div class="line">    .......</div><div class="line">    theme = params[<span class="symbol">:theme</span>]</div><div class="line">    <span class="keyword">if</span> theme == <span class="string">"theme2"</span></div><div class="line">      render <span class="string">'theme2'</span></div><div class="line">    <span class="keyword">else</span></div><div class="line">      render <span class="string">'theme1'</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line">....</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>äºŒã€ <strong>æ‰€æœ‰è·³è½¬åˆ°project showé¡µé¢çš„æŒ‰é’®ï¼Œéƒ½æ·»åŠ ä¸€ä¸ªå‚æ•°ï¼štheme</strong>ã€‚æ¯”å¦‚åœ¨<code>theme1.html.erb</code>ä¸­çš„buttonéƒ¨åˆ†ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.....</div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"btn btn-info pull-right"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">%=</span> <span class="attr">link_to</span>("åˆ‡æ¢åˆ°ä¸»é¢˜<span class="attr">2</span>", <span class="attr">project_path</span>(@<span class="attr">project</span>, <span class="attr">theme:</span> "<span class="attr">theme2</span>")) %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">......</div></pre></td></tr></table></figure>
<p> <code>theme2.html.erb</code>çš„buttonéƒ¨åˆ†ä¸ä¹‹ç±»ä¼¼ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">.....</div><div class="line"><span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">"btn btn-info pull-right"</span>&gt;</span></div><div class="line">   <span class="tag">&lt;<span class="name">%=</span> <span class="attr">link_to</span>("åˆ‡æ¢åˆ°ä¸»é¢˜<span class="attr">1</span>", <span class="attr">project_path</span>(@<span class="attr">project</span>, <span class="attr">theme:</span> "<span class="attr">theme1</span>")) %&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">span</span>&gt;</span></div><div class="line">......</div></pre></td></tr></table></figure>
<p>å…¶ä»–éœ€è¦è·³è½¬åˆ°show é¡µé¢çš„linkéƒ½åšè¿™æ ·çš„å¤„ç†ï¼Œè‡³äºthemeçš„å€¼ï¼Œå¦‚æœä½ çš„é»˜è®¤ä¸»é¢˜æ˜¯theme1ï¼Œ åˆ™å–é»˜è®¤ä¸»é¢˜å³å¯ã€‚</p>
<p>è¶…çº§ç®€å•æœ‰æ²¡æœ‰ï¼Ÿï¼</p>
<p>ä½ å¯èƒ½ä¼šé—®ï¼Œä¸ºä»€ä¹ˆä¼šæƒ³åˆ°è¿™ä¸ªè§£å†³æ–¹æ³•ï¼Ÿ</p>
<p>å¯å‘æ¥è‡ªè¿™é‡Œï¼šğŸ‘‡</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcgy1fo70blzaw1j30kq0aswfp.jpg" alt=""></p>
<p>è™½ç„¶åªæœ‰ä¸€ä¸ªvoteï¼Œä½†æ˜¯ä¸å¦¨ç¢å®ƒå¥½ç”¨å•Šï¼ç‚¹èµAnkit Pandey.</p>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://stackoverflow.com/questions/43558477/render-different-show-pages-with-category-in-ruby-on-rails" target="_blank" rel="external">render different show pages with category in ruby on rails</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/02/06/how-to-drop-a-table-on-rails/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/02/06/how-to-drop-a-table-on-rails/" itemprop="url">
                  Railsä¸­å¦‚ä½•åˆ é™¤æ•°æ®è¡¨ï¼Ÿ
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-02-06T10:41:02+08:00">
                2018-02-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/06/how-to-drop-a-table-on-rails/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/02/06/how-to-drop-a-table-on-rails/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h4><p>å…ˆçœ‹ä¸ªåœºæ™¯ï¼š</p>
<p>å½“ä½ è¿è¡Œ<code>rake db:migrate</code>æ—¶ï¼Œç»ˆç«¯æŠ¥é”™ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">SQLite3::SQLException: table &quot;XXXX&quot; already existsâ€¦â€¦</div></pre></td></tr></table></figure>
<p>è¿™ç§æƒ…å†µä¸‹ï¼Œå¤šåŠç”±äºä½ é‡å»ºäº†tableXXXXå¯¼è‡´ï¼Œé’ˆå¯¹è¿™ç§æƒ…å†µï¼Œä¸€èˆ¬æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥è§£å†³ï¼š</p>
<ul>
<li>æŸ¥çœ‹ä½ éœ€è¦migrateçš„ä»£ç ï¼Œæ˜¯å¦å­˜åœ¨é‡å»ºtableXXXXçš„æƒ…å†µï¼Œå¦‚æœæœ‰ï¼Œæ³¨é‡Šæ‰ï¼Œç„¶åå†run <code>rake db:migrate</code>ï¼›</li>
<li>åˆ é™¤æ‰æ•°æ®åº“ä¸­å·²ç»å­˜åœ¨çš„table XXXXï¼Œå†run <code>rake db:migrate</code>ï¼Œ é‡å»ºæ–°çš„table XXXXã€‚ ã€Œç‰¹åˆ«æ˜¯å½“ä½ å¯¹å…ˆå‰å»ºçš„tableå¹¶ä¸æ»¡æ„æ—¶ã€</li>
</ul>
<p>ç¬¬ä¸€ç§å¾ˆå¥½åŠï¼Œæ²¡å•¥å¯è¯´çš„ï¼Œçœ‹ç¬¬äºŒç§å…·ä½“æ€ä¹ˆåšã€‚</p>
<h4 id="è§£ç­”"><a href="#è§£ç­”" class="headerlink" title="è§£ç­”"></a>è§£ç­”</h4><p>ä»¥table projectsä¸ºä¾‹ï¼Œå«å­—æ®µtitleï¼Œdescriptionã€‚</p>
<p>ä¸¤ç§æ–¹æ³•ï¼š</p>
<p>ä¸€ä¸ªç®€å•ç²—æš´çš„æ–¹å¼æ˜¯<code>rails c</code>ï¼Œæ‰“å¼€rails consoleï¼Œè¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ActiveRecord::Migration.drop_table(:projects) #å°†projectsæ¢æˆä½ è¦åˆ é™¤çš„è¡¨å</div></pre></td></tr></table></figure>
<p>å¦ä¸€ä¸ªæ–¹å¼å…ˆæ³¨é‡Šæ‰éœ€è¦migrationçš„ä»£ç ï¼Œç„¶åæ–°å»ºä¸€ä¸ªmigrationï¼š<code>rails g migration Dropprojects</code></p>
<p>åœ¨ç”Ÿæˆçš„<code>xxxxxx_Dropprojects.rb</code>ä¸­å¡«å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dropprojects</span> &lt; ActiveRecord::Migration</span></div><div class="line">  <span class="function"><span class="keyword">def</span> <span class="title">change</span></span></div><div class="line">    drop_table <span class="symbol">:projects</span> <span class="keyword">do</span> <span class="params">|t|</span></div><div class="line">      t.string <span class="symbol">:title</span>, <span class="symbol">null:</span> <span class="literal">false</span></div><div class="line">      t.text <span class="symbol">:description</span>, <span class="symbol">null:</span> <span class="literal">false</span></div><div class="line">      t.timestamps <span class="symbol">null:</span> <span class="literal">false</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>ç»ˆç«¯run <code>rake db:migrate</code>ï¼Œ æˆåŠŸåˆ é™¤ï¼Œ è¿™åº”è¯¥ç®—æ˜¯æ¯”è¾ƒ â€œofficialsâ€ çš„åšæ³•äº†ã€‚</p>
<p>åˆ é™¤åï¼Œå†å–æ¶ˆä½ å…ˆå‰æ³¨é‡Šçš„éœ€è¦migrationçš„ä»£ç ï¼Œè¿è¡Œ<code>rake db:migrate</code>ï¼Œ é‡å»ºæ–°çš„tableã€‚</p>
<p>æ­¤å¤–ï¼Œå½“ä½ åœ¨Railsä¸­æ·»åŠ äº†ä¸€ä¸ªtable XXXXï¼Œå‘ç°åç»­å¹¶ä¸éœ€è¦è¿™ä¸ªtableäº†ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ä¸Šè¯‰çš„æ–¹å¼åˆ é™¤å®ƒã€‚</p>
<p>å½“ç„¶ï¼Œå¤§éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œä¸å»ºè®®åŠ¨æ•°æ®åº“çš„ï¼Œå› ä¸ºå¤šä¸ªtableä¹‹é—´å¯èƒ½å­˜åœ¨å…³è”ï¼Œåˆ é™¤å¯èƒ½å¼•å‘æ½œåœ¨çš„é—®é¢˜ã€‚</p>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="http://api.rubyonrails.org/classes/ActiveRecord/Migration.html" target="_blank" rel="external">Active Record Migrations</a></p>
<p><a href="https://stackoverflow.com/questions/4020131/rails-db-migration-how-to-drop-a-table" target="_blank" rel="external">Rails DB Migration - How To Drop a Table?</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/02/01/footer-always-on-the-buttom-with-flex/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/02/01/footer-always-on-the-buttom-with-flex/" itemprop="url">
                  ç”¨flexç½®åº•footer
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-02-01T15:23:19+08:00">
                2018-02-01
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/02/01/footer-always-on-the-buttom-with-flex/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/02/01/footer-always-on-the-buttom-with-flex/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>çœ‹è¿‡åˆ«äººå†™çš„ä¸€äº›footerç½®åº•çš„æ–‡ç« ï¼Œè¯•äº†ä¸€äº›ï¼Œå‘ç°äº†ä¸€ä¸ªç‰¹åˆ«ç®€å•çš„ç½®åº•æ–¹å¼ï¼Œä¸ç”¨è€ƒè™‘footerçš„é«˜åº¦ï¼Œä¹Ÿä¸ç”¨è®¾ç½®padding-bottomå•¥çš„ï¼Œç”¨flexï¼Œä¸¤æ­¥å³å¯ã€‚</p>
<p>ä»¥ä¸‹ä»¥Railsä¸ºä¾‹ï¼š</p>
<h5 id="ä¸€ã€è®¾ç½®htmléƒ¨åˆ†"><a href="#ä¸€ã€è®¾ç½®htmléƒ¨åˆ†" class="headerlink" title="ä¸€ã€è®¾ç½®htmléƒ¨åˆ†"></a>ä¸€ã€è®¾ç½®htmléƒ¨åˆ†</h5><p><code>application.html.erb</code>ä¸­çš„å†…å®¹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></div><div class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">	.....</div><div class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"></div><div class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"content"</span>&gt;</span></div><div class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">%=</span> <span class="attr">render</span> "<span class="attr">common</span>/<span class="attr">navbar</span>"%&gt;</span></div><div class="line">          <span class="tag">&lt;<span class="name">%=</span> <span class="attr">yield</span> %&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">%=</span> <span class="attr">render</span> "<span class="attr">common</span>/<span class="attr">footer</span>"%&gt;</span></div><div class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="äºŒã€è®¾ç½®CSSéƒ¨åˆ†"><a href="#äºŒã€è®¾ç½®CSSéƒ¨åˆ†" class="headerlink" title="äºŒã€è®¾ç½®CSSéƒ¨åˆ†"></a>äºŒã€è®¾ç½®CSSéƒ¨åˆ†</h4><p><code>application.scss</code>ä¸­å¡«å…¥ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">html &#123;</div><div class="line">    height: 100%;</div><div class="line">&#125;</div><div class="line">body &#123;</div><div class="line">  min-height: 100%;                                   // footerå›ºå®šåº•éƒ¨</div><div class="line">  display: flex;                                      // footerå›ºå®šåº•éƒ¨</div><div class="line">  flex-direction: column;                             // footerå›ºå®šåº•éƒ¨                       </div><div class="line">&#125;</div><div class="line">.content &#123;</div><div class="line"> flex: 1;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>OKï¼ä¸ç®¡ä½ çš„footeræ ·å¼å¦‚ä½•ï¼Œé«˜åº¦å‡ è®¸ï¼Œéƒ½å¯ä»¥å®Œç¾å®ç°ç½®åº•ã€‚</p>
<p>å¦ï¼Œæ¨è<a href="https://segmentfault.com/" target="_blank" rel="external">segmentfault</a>ä¸Šå¾ˆå®ç”¨çš„ä¸€ç¯‡ç½®åº•æ–‡ç« ï¼š</p>
<p><a href="https://segmentfault.com/a/1190000004453249" target="_blank" rel="external">å°†footerå›ºå®šåœ¨é¡µé¢åº•éƒ¨çš„å®ç°æ–¹æ³•</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/01/27/deploy-rails-app-with-nginx-and-unicorn-on-ubuntu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/27/deploy-rails-app-with-nginx-and-unicorn-on-ubuntu/" itemprop="url">
                  Ubuntu16.04ä¸‹, ä½¿ç”¨Nginxå’ŒUnicornéƒ¨ç½²Rails App
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-27T18:30:42+08:00">
                2018-01-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Nginx/" itemprop="url" rel="index">
                    <span itemprop="name">Nginx</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/27/deploy-rails-app-with-nginx-and-unicorn-on-ubuntu/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/27/deploy-rails-app-with-nginx-and-unicorn-on-ubuntu/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>ä¹‹å‰ç”¨è¿‡Nginx  + Passengersæ¥éƒ¨ç½²Rails åº”ç”¨ï¼Œ è¿™æ¬¡æ¢Nginx  + Unicornéƒ¨ç½²äº†Rails Appï¼Œè¿‡ç¨‹è™½æœ‰äº›æ³¢æŠ˜ï¼Œä½†ç»“æœè¿˜æ˜¯è›®èµçš„ã€‚ã€å…¶å®æŠ˜è…¾äº†å¤§åŠå¤©ï¼Œæœ€åç»ˆäºé‡æ–°ä»å‘é‡Œçˆ¬å‡ºæ¥äº†ï¼Œè¿˜å¤šäºè€å¤§å¸®å¿™çœ‹äº†ä¸‹â€¦â€¦ã€‘</p>
<p>ä¸‹é¢ä»¥ä¸€ä¸ªç®€å•çš„railsé¡¹ç›®çš„éƒ¨ç½²ä¸ºä¾‹ï¼Œæ¥æ„Ÿå—ä¸‹Nginx + Unicornã€‚</p>
<p>ã€å¦‚æœä½ ä¹Ÿå’Œæˆ‘ä¸€æ ·æ˜¯æšå°ç™½ï¼Œè¡¥å……ä¸‹ï¼Œè¿™é‡Œï¼ŒUnicornæ˜¯ä¸€ä¸ªHTTP serverï¼Œç±»ä¼¼Passengeræˆ–è€…pumaã€‚ç”±äºUnicornä¸èƒ½ç›´æ¥è¢«ç”¨æˆ·è®¿é—®ï¼Œä½¿ç”¨Nginxä½œä¸ºåå‘ä»£ç†ï¼Œæ¥ç¼“å†²ç”¨æˆ·ä¸Railsåº”ç”¨ä¹‹é—´çš„è¯·æ±‚ä¸å“åº”ã€‚ã€‘</p>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><h5 id="1ã€å‡†å¤‡Rails-App"><a href="#1ã€å‡†å¤‡Rails-App" class="headerlink" title="1ã€å‡†å¤‡Rails App"></a>1ã€å‡†å¤‡Rails App</h5><ul>
<li><p>æœ¬åœ°æ–°å»ºä¸€ä¸ªrailsé¡¹ç›®recipes</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">rails new recipes</div><div class="line">cd recipes</div><div class="line">git init</div><div class="line">git add .</div><div class="line">git commit -m &quot;new project recipes&quot;</div><div class="line"># å°†recipesæ‰˜ç®¡åˆ°ç¬¬ä¸‰æ–¹ä»£ç åº“ï¼Œè¿™é‡Œé€‰GitHub</div><div class="line">git remote add origin https://github.com/XXXXX/recipes.git</div><div class="line">git push -u origin master</div><div class="line">rails g scaffold topic title:string description:text</div><div class="line">rake db:migrate</div><div class="line">git add .</div><div class="line">git commit -m &quot;create topic model&quot;</div><div class="line">rails s</div></pre></td></tr></table></figure>
<p>ä¿®æ”¹<code>config/routes.rb</code>,æŠŠä¸»é¡µè®¾å®šæˆtopicçš„index, æ·»åŠ <code>root &quot;topics#index&quot;</code>ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Rails.application.routes.draw <span class="keyword">do</span></div><div class="line">  resources <span class="symbol">:topics</span></div><div class="line"> + root <span class="string">"topics#index"</span></div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>è¿™æ—¶ï¼Œåœ¨æµè§ˆå™¨æ‰“å¼€<a href="http://localhost:3000/ï¼Œç”»é£æ˜¯è¿™æ ·çš„ï¼š" target="_blank" rel="external">http://localhost:3000/ï¼Œç”»é£æ˜¯è¿™æ ·çš„ï¼š</a></p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcly1fnv0kthg2xj30og06874g.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git add .</div><div class="line">git commit -m &quot;update routes&quot;</div><div class="line">git push</div></pre></td></tr></table></figure>
</li>
<li><p>æ·»åŠ gemï¼š unicorn, foreman, dotenv-rails</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fnv3oaphuhj30k50g9abf.jpg" alt=""></p>
<p>ç»ˆç«¯è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">bundler install</div></pre></td></tr></table></figure>
<p>æ·»åŠ <code>config/deploy.rb</code>ï¼Œ å†…å®¹å¦‚ä¸‹ï¼š</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fnv4da7cvhj30m50k040q.jpg" alt=""></p>
<p>ã€repo_url æ¢æˆä½ è‡ªå·±çš„URLã€‘</p>
<p>æ ¹ç›®å½•ä¸‹æ·»åŠ Procfile æ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fnv4nzvr2mj30mw095t9v.jpg" alt=""></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">git add .</div><div class="line">git commit -m &quot;add unicorn to project&quot;</div><div class="line">git push</div></pre></td></tr></table></figure>
<p>å°†æ‰€æœ‰è¿›åº¦pushè‡³remoteï¼Œ å¥½ï¼Œæˆ‘ä»¬å¼€å§‹éƒ¨ç½²ï¼</p>
</li>
</ul>
<h5 id="2ã€å®‰è£…å¥—ä»¶"><a href="#2ã€å®‰è£…å¥—ä»¶" class="headerlink" title="2ã€å®‰è£…å¥—ä»¶"></a>2ã€å®‰è£…å¥—ä»¶</h5><p>è¿™é‡Œä»¥Ubuntu16.04ä¸ºä¾‹ï¼Œå‡å®šä½ å·²ç»æ·»åŠ ä¸€ä¸ªå…å¯†ç™»é™†çš„ç”¨æˆ·deployï¼Œæˆ‘ä»¬å°†é¡¹ç›®éƒ¨ç½²åœ¨home/deployä¸‹ã€‚</p>
<ul>
<li><p>ç™»é™†æœåŠ¡å™¨ï¼Œæ›´æ–°ï¼Œå‡çº§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update -y</div><div class="line">sudo apt-get upgrade -y</div></pre></td></tr></table></figure>
</li>
<li><p>è£å¥—ä»¶ï¼Œè¿™äº›æ˜¯Ruby on Rails éœ€è¦çš„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -y build-essential git-core bison openssl libreadline6-dev curl zlib1g zlib1g-dev libssl-dev libyaml-dev libsqlite3-0 libsqlite3-dev sqlite3 autoconf libc6-dev libpcre3-dev libcurl4-nss-dev libxml2-dev libxslt-dev imagemagick nodejs libffi-dev</div></pre></td></tr></table></figure>
<p>å¦‚æœå®‰è£…çš„nodejsç‰ˆæœ¬ä½ï¼Œå°è¯•è¿™æ ·ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">#nodejs v9</div><div class="line">curl -sL https://deb.nodesource.com/setup_9.x | sudo -E bash -</div><div class="line">sudo apt-get install -y nodejs</div></pre></td></tr></table></figure>
</li>
<li><p>è£Ruby</p>
<p>æ£€æŸ¥ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby --version</div></pre></td></tr></table></figure>
<p>å¦‚æœæœ‰æ—§çš„ç‰ˆæœ¬ï¼Œæ¯”å¦‚1.8/1.9ï¼Œ å¸è½½æ‰:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get remove -y ruby1.8 ruby1.9</div></pre></td></tr></table></figure>
<p>ä¸‹è½½ï¼Œè§£å‹ï¼Œç¼–è¯‘ï¼Œå®‰è£…ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">mkdir /tmp/ruby &amp;&amp; cd /tmp/ruby</div><div class="line">wget https://cache.ruby-lang.org/pub/ruby/ruby-2.4.0.tar.gz</div><div class="line">tar -xzvf ruby-2.4.0.tar.gz</div><div class="line">cd ruby-2.4.0/</div><div class="line">./configure --prefix=/usr</div><div class="line">make</div><div class="line">sudo make install</div><div class="line"></div><div class="line">ruby -v</div><div class="line"></div><div class="line"># å¤„ç†SSLé—®é¢˜ï¼ŒåŠ å…¥å›½å†…gemsé•œåƒ</div><div class="line">gem sources --add http://gems.ruby-china.org/ --remove https://rubygems.org/</div><div class="line"># å¦‚æœæŠ¥é”™ï¼šuninitialized constant Gem::RemoteFetcher::Zlibï¼Œ åˆ™æ‰§è¡Œï¼šsudo apt-get install zlib1g-dev</div><div class="line"></div><div class="line">gem sources -l</div><div class="line"></div><div class="line">sudo gem install bundler --no-ri --no-rdoc --source https://gems.ruby-china.org</div></pre></td></tr></table></figure>
<p>æˆ³è¿™é‡Œ<a href="http://cache.ruby-lang.org/pub/ruby/" target="_blank" rel="external">pub ruby</a> æŸ¥çœ‹rubyæœ€æ–°ç‰ˆæœ¬ã€‚</p>
</li>
<li><p>è£… foreman gems:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo gem install rake bundler foreman --no-ri --no-rdoc</div></pre></td></tr></table></figure>
</li>
<li><p>è£…runitï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install runit</div></pre></td></tr></table></figure>
</li>
<li><p>è£SQLï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install mysql-common mysql-client libmysqlclient-dev mysql-server</div></pre></td></tr></table></figure>
<p>æ‰§è¡Œè¿‡ç¨‹ä¸­ä¼šè®©ä½ é…ç½®ä¸€ä¸ªæ•°æ®åº“çš„ root å¯†ç ï¼Œ è®°ä¸‹æ¥ï¼Œè®¾å®šrailsçš„æ•°æ®åº“æ—¶ä¼šç”¨åˆ°ã€‚</p>
<p>å»ºæ–°çš„æ•°æ®åº“ï¼š</p>
<p>æ‰§è¡Œ<code>mysql -u root -p</code> è¿›å…¥console, è¾“å…¥ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">DATABASE</span> recipes <span class="built_in">CHARACTER</span> <span class="keyword">SET</span> utf8mb4;</div></pre></td></tr></table></figure>
<p>åˆ›å»ºuser deployï¼Œå¹¶ç»™useråˆ†é…æ•°æ®åº“ recipesçš„æƒé™, æŠŠ$password æ›¿æ¢æˆä½ è‡ªå·±è®¾ç½®çš„å¯†ç ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">'deploy'</span>@<span class="string">'localhost'</span> <span class="keyword">IDENTIFIED</span> <span class="keyword">BY</span> <span class="string">'$password'</span>;</div><div class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>, <span class="keyword">INSERT</span>, <span class="keyword">UPDATE</span>, <span class="keyword">DELETE</span>, <span class="keyword">CREATE</span>, <span class="keyword">DROP</span>, <span class="keyword">INDEX</span>, <span class="keyword">ALTER</span>, <span class="keyword">LOCK</span> <span class="keyword">TABLES</span> <span class="keyword">ON</span> <span class="string">`recipes`</span>.* <span class="keyword">TO</span> <span class="string">'deploy'</span>@<span class="string">'localhost'</span>;</div><div class="line">exit</div></pre></td></tr></table></figure>
<p>é€€å‡ºSQLçš„sessionåï¼Œå°è¯•è¿æ¥ä¸€ä¸‹æ•°æ®åº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo mysql -u deploy -p -D recipes</div></pre></td></tr></table></figure>
<p>è¿™æ—¶ä¼šè®©ä½ è¾“å…¥å¯†ç ï¼Œè¾“å…¥åˆšåˆšæ›¿æ¢$passwordçš„å¯†ç å³å¯ã€‚</p>
</li>
</ul>
<h5 id="3ã€éƒ¨ç½²é¡¹ç›®"><a href="#3ã€éƒ¨ç½²é¡¹ç›®" class="headerlink" title="3ã€éƒ¨ç½²é¡¹ç›®"></a>3ã€éƒ¨ç½²é¡¹ç›®</h5><ul>
<li><p>cloneé¡¹ç›®åˆ°æœåŠ¡å™¨</p>
<p>deployèº«ä»½ç™»é™†ï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo git clone //github.com/XXXXX/recipes.git recipes</div><div class="line">cd recipes</div><div class="line">ls -la</div></pre></td></tr></table></figure>
<p>å¦‚æœrecipesä¸‹é¢æ–‡ä»¶çš„ownerä¸æ˜¯deployï¼Œæ‰§è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo chown deploy:deploy . -R</div></pre></td></tr></table></figure>
<p><strong>ç¡®ä¿deployå¯¹recipesä¸‹çš„æ–‡ä»¶æ‹¥æœ‰è¯»å†™æƒé™ï¼Œä¸ç„¶åé¢éƒ¨ç½²æ—¶ä¼šå¤±è´¥</strong>ã€‚</p>
<p>é…ç½®æ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">sudo mkdir -p log tmp/pids tmp/sockets</div><div class="line">sudo chown -R deploy log/ tmp/</div><div class="line">sudo chmod -R u+rwX,go-w log/ tmp/</div><div class="line">sudo chmod -R u+rwX,go-w log/</div><div class="line">sudo chmod -R u+rwX tmp/</div><div class="line">touch .env</div><div class="line">touch config/unicorn.rb</div></pre></td></tr></table></figure>
<p>é…ç½®.env:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"># ==== Required configuration settings  ====</div><div class="line"></div><div class="line"># Replace the following with the output from &quot;rake secret&quot;</div><div class="line">APP_SECRET_TOKEN=REPLACE_ME_NOW!</div><div class="line"></div><div class="line">############################</div><div class="line">#      Database Setup      #</div><div class="line">############################</div><div class="line"></div><div class="line">DATABASE_ADAPTER=mysql2</div><div class="line">DATABASE_ENCODING=utf8</div><div class="line">DATABASE_RECONNECT=true</div><div class="line">DATABASE_NAME=recipes</div><div class="line">DATABASE_POOL=20</div><div class="line">DATABASE_USERNAME=deploy</div><div class="line">DATABASE_PASSWORD=&quot;your_password&quot;</div><div class="line">#DATABASE_HOST=your-domain-here.com</div><div class="line">#DATABASE_PORT=3306</div><div class="line">#DATABASE_SOCKET=/tmp/mysql.sock</div><div class="line"></div><div class="line"># MySQL only: If you are running a MySQL server &gt;=5.5.3, you should</div><div class="line"># set DATABASE_ENCODING to utf8mb4 instead of utf8 so that the</div><div class="line"># database can hold 4-byte UTF-8 characters like emoji.</div><div class="line">#DATABASE_ENCODING=utf8mb4</div><div class="line"></div><div class="line"># ==== Additional required production settings ====</div><div class="line"></div><div class="line"># Configure Rails environment.  This should only be needed in production and may cause errors in development.</div><div class="line">RAILS_ENV=production</div><div class="line"></div><div class="line"># Should Rails force all requests to use SSL?</div><div class="line">FORCE_SSL=false</div><div class="line"># è®¾ç½®SECRET_KEY_BASEï¼Œconfig/secrets.ymlä¸­æœ‰ç”¨åˆ°ï¼Œç”¨developmentçš„secret_key_baseå³å¯</div><div class="line">SECRET_KEY_BASE= your_devlopment_secret_key_base</div></pre></td></tr></table></figure>
<p>é…ç½®<code>config/unicorn.rb</code>ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">wd = File.expand_path(File.join(File.dirname(__FILE_<span class="number">_</span>), <span class="string">'..'</span>))</div><div class="line"></div><div class="line">app_path = wd</div><div class="line"></div><div class="line">worker_processes <span class="number">2</span></div><div class="line">preload_app <span class="literal">true</span></div><div class="line">timeout <span class="number">180</span></div><div class="line">listen <span class="string">"<span class="subst">#&#123;wd&#125;</span>/tmp/sockets/unicorn.socket"</span></div><div class="line"></div><div class="line">working_directory app_path</div><div class="line"></div><div class="line">rails_env = ENV[<span class="string">'RAILS_ENV'</span>] <span class="params">||</span> <span class="string">'production'</span></div><div class="line"></div><div class="line"><span class="comment"># Log everything to one file</span></div><div class="line">stderr_path <span class="string">"log/unicorn.log"</span></div><div class="line">stdout_path <span class="string">"log/unicorn.log"</span></div><div class="line"></div><div class="line"><span class="comment"># Set master PID location</span></div><div class="line">pid <span class="string">"<span class="subst">#&#123;wd&#125;</span>/tmp/pids/unicorn.pid"</span></div><div class="line"></div><div class="line">before_fork <span class="keyword">do</span> <span class="params">|server, worker|</span></div><div class="line">  ActiveRecord::Base.connection.disconnect!</div><div class="line">  old_pid = <span class="string">"<span class="subst">#&#123;server.config[<span class="symbol">:pid</span>]&#125;</span>.oldbin"</span></div><div class="line">  <span class="keyword">if</span> File.exist?(old_pid) &amp;&amp; server.pid != old_pid</div><div class="line">    <span class="keyword">begin</span></div><div class="line">      Process.kill(<span class="string">"QUIT"</span>, File.read(old_pid).to_i)</div><div class="line">    <span class="keyword">rescue</span> Errno::ENOENT, Errno::ESRCH</div><div class="line">      <span class="comment"># someone else did our job for us</span></div><div class="line">    <span class="keyword">end</span></div><div class="line">  <span class="keyword">end</span></div><div class="line"><span class="keyword">end</span></div><div class="line"></div><div class="line">after_fork <span class="keyword">do</span> <span class="params">|server, worker|</span></div><div class="line">  ActiveRecord::Base.establish_connection</div><div class="line"><span class="keyword">end</span></div></pre></td></tr></table></figure>
<p>å®‰è£…gemsï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo bundle install --deployment --without development test</div></pre></td></tr></table></figure>
<p>migrate æ•°æ®åº“ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo bundle exec rake db:migrate RAILS_ENV=production</div></pre></td></tr></table></figure>
<p>ç¼–è¯‘assetsï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo bundle exec rake assets:precompile RAILS_ENV=production</div></pre></td></tr></table></figure>
<p>ä¿®æ”¹Procfileï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi Procfile</div></pre></td></tr></table></figure>
<p>æ³¨é‡Šæ‰Procfileè¿™ä¸¤è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">web: bundle exec rails server -p $&#123;PORT-3000&#125; -b $&#123;IP-0.0.0.0&#125;</div><div class="line">jobs: bundle exec rails runner bin/threaded.rb</div></pre></td></tr></table></figure>
<p>åŒæ—¶å–æ¶ˆå¯¹Procfileè¿™ä¸¤è¡Œçš„æ³¨é‡Šï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># web: bundle exec unicorn -c config/unicorn.rb</div><div class="line"># jobs: bundle exec rails runner bin/threaded.rb</div></pre></td></tr></table></figure>
<p>åˆ›å»ºUnicornçš„åˆå§‹è„šæœ¬ï¼š</p>
<p>ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/init.d/unicorn_recipes</div></pre></td></tr></table></figure>
<p>ç„¶ååœ¨æ–‡ä»¶ä¸­æ”¾å…¥ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div></pre></td><td class="code"><pre><div class="line">#!/bin/sh</div><div class="line"></div><div class="line">### BEGIN INIT INFO</div><div class="line"># Provides:          unicorn</div><div class="line"># Required-Start:    $all</div><div class="line"># Required-Stop:     $all</div><div class="line"># Default-Start:     2 3 4 5</div><div class="line"># Default-Stop:      0 1 6</div><div class="line"># Short-Description: starts the unicorn app server</div><div class="line"># Description:       starts unicorn using start-stop-daemon</div><div class="line">### END INIT INFO</div><div class="line"></div><div class="line">set -e</div><div class="line"></div><div class="line">USAGE=&quot;Usage: $0 &lt;start|stop|restart|upgrade|rotate|force-stop&gt;&quot;</div><div class="line"></div><div class="line"># app settings</div><div class="line">USER=&quot;deploy&quot;</div><div class="line">APP_NAME=&quot;recipes&quot;</div><div class="line">APP_ROOT=&quot;/home/$USER/$APP_NAME&quot;</div><div class="line">ENV=&quot;production&quot;</div><div class="line"></div><div class="line"># environment settings</div><div class="line">PATH=&quot;/home/$USER/.rbenv/shims:/home/$USER/.rbenv/bin:$PATH&quot;</div><div class="line">CMD=&quot;cd $APP_ROOT &amp;&amp; bundle exec unicorn -c config/unicorn.rb -E $ENV -D&quot;</div><div class="line">PID=&quot;$APP_ROOT/tmp/pids/unicorn.pid&quot;</div><div class="line">OLD_PID=&quot;$PID.oldbin&quot;</div><div class="line"></div><div class="line"># make sure the app exists</div><div class="line">cd $APP_ROOT || exit 1</div><div class="line"></div><div class="line">sig () &#123;</div><div class="line">  test -s &quot;$PID&quot; &amp;&amp; kill -$1 `cat $PID`</div><div class="line">&#125;</div><div class="line"></div><div class="line">oldsig () &#123;</div><div class="line">  test -s $OLD_PID &amp;&amp; kill -$1 `cat $OLD_PID`</div><div class="line">&#125;</div><div class="line"></div><div class="line">case $1 in</div><div class="line">  start)</div><div class="line">    sig 0 &amp;&amp; echo &gt;&amp;2 &quot;Already running&quot; &amp;&amp; exit 0</div><div class="line">    echo &quot;Starting $APP_NAME&quot;</div><div class="line">    su - $USER -c &quot;$CMD&quot;</div><div class="line">    ;;</div><div class="line">  stop)</div><div class="line">    echo &quot;Stopping $APP_NAME&quot;</div><div class="line">    sig QUIT &amp;&amp; exit 0</div><div class="line">    echo &gt;&amp;2 &quot;Not running&quot;</div><div class="line">    ;;</div><div class="line">  force-stop)</div><div class="line">    echo &quot;Force stopping $APP_NAME&quot;</div><div class="line">    sig TERM &amp;&amp; exit 0</div><div class="line">    echo &gt;&amp;2 &quot;Not running&quot;</div><div class="line">    ;;</div><div class="line">  restart|reload|upgrade)</div><div class="line">    sig USR2 &amp;&amp; echo &quot;reloaded $APP_NAME&quot; &amp;&amp; exit 0</div><div class="line">    echo &gt;&amp;2 &quot;Couldn&apos;t reload, starting &apos;$CMD&apos; instead&quot;</div><div class="line">    $CMD</div><div class="line">    ;;</div><div class="line">  rotate)</div><div class="line">    sig USR1 &amp;&amp; echo rotated logs OK &amp;&amp; exit 0</div><div class="line">    echo &gt;&amp;2 &quot;Couldn&apos;t rotate logs&quot; &amp;&amp; exit 1</div><div class="line">    ;;</div><div class="line">  *)</div><div class="line">    echo &gt;&amp;2 $USAGE</div><div class="line">    exit 1</div><div class="line">    ;;</div><div class="line">esac</div></pre></td></tr></table></figure>
<p>æ›´æ”¹æƒé™ï¼Œå¹¶è®¾ç½®å¯ä»¥åœ¨bootä¸Šå¯åŠ¨ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo chmod 755 /etc/init.d/unicorn_recipes</div><div class="line">sudo update-rc.d unicorn_recipes defaults</div></pre></td></tr></table></figure>
<p>å¼€å¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo /etc/init.d/unicorn_recipes start</div></pre></td></tr></table></figure>
<p>æ£€æŸ¥unicornçš„çŠ¶æ€ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service unicorn status</div></pre></td></tr></table></figure>
<p>è®¾ç½®logrotateï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/logrotate.d/recipes</div></pre></td></tr></table></figure>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line">/home/deploy/recipes/log/*.log &#123;</div><div class="line">  daily</div><div class="line">  missingok</div><div class="line">  rotate 180</div><div class="line">  # must use with delaycompress below</div><div class="line">  compress</div><div class="line">  dateext</div><div class="line"></div><div class="line">  # this is important if using &quot;compress&quot; since we need to call</div><div class="line">  # the &quot;lastaction&quot; script below before compressing:</div><div class="line">  delaycompress</div><div class="line"></div><div class="line">  # note the lack of the evil &quot;copytruncate&quot; option in this</div><div class="line">  # config.  Unicorn supports the USR1 signal and we send it</div><div class="line">  # as our &quot;lastaction&quot; action:</div><div class="line">  lastaction</div><div class="line">    pid=/home/deploy/recipes/tmp/pids/unicorn.pid</div><div class="line">    test -s $pid &amp;&amp; kill -USR1 &quot;$(cat $pid)&quot;</div><div class="line">  endscript</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å¦‚æœæç¤ºreadonly, æ— æ³•å†™å…¥ï¼Œä½¿ç”¨chmodæˆ–è€…chownæ¥è·å–è¯»å†™æƒé™ã€‚</p>
</li>
<li><p>å®‰è£…Ngnix</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt-get install -y nginx</div></pre></td></tr></table></figure>
<p>æŸ¥çœ‹ç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">nginx -v</div></pre></td></tr></table></figure>
<p>åœ¨/etc/nginx/sites-availableä¸‹ï¼Œæ–°å¢recipesæ–‡ä»¶ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo vi /etc/nginx/sites-available/recipes</div></pre></td></tr></table></figure>
<p>å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div></pre></td><td class="code"><pre><div class="line">###################################</div><div class="line">##         configuration         ##</div><div class="line">###################################</div><div class="line">##</div><div class="line">## See installation.md#using-https for additional HTTPS configuration details.</div><div class="line"></div><div class="line">upstream recipes &#123;</div><div class="line">  server unix:/home/deploy/recipes/tmp/sockets/unicorn.socket fail_timeout=0;</div><div class="line">&#125;</div><div class="line"></div><div class="line">## Normal HTTP host</div><div class="line">server &#123;</div><div class="line">  listen 0.0.0.0:80 default_server;</div><div class="line">  listen [::]:80 ipv6only=on default_server;</div><div class="line">  server_name 101.132.151.71; ## è¿™é‡Œå¡«åŸŸåï¼Œå¦‚æœæ²¡æœ‰ï¼Œå¡«æœåŠ¡å™¨ IP ä½ç½®</div><div class="line">  server_tokens off; ## Don&apos;t show the nginx version number, a security best practice</div><div class="line">  root /home/deploy/recipes/public;</div><div class="line"></div><div class="line">  ## Increase this if you want to upload large attachments</div><div class="line">  client_max_body_size 20m;</div><div class="line"></div><div class="line">  ## Individual nginx logs for vhost</div><div class="line">  access_log  /var/log/nginx/recipes_access.log;</div><div class="line">  error_log   /var/log/nginx/recipes_error.log;</div><div class="line"></div><div class="line">  location / &#123;</div><div class="line">    ## Serve static files from defined root folder.</div><div class="line">    ## @huginn is a named location for the upstream fallback, see below.</div><div class="line">    try_files $uri $uri/index.html $uri.html @recipes;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  ## If a file, which is not found in the root folder is requested,</div><div class="line">  ## then the proxy passes the request to the upsteam (huginn unicorn).</div><div class="line">  location @recipes &#123;</div><div class="line">    ## If you use HTTPS make sure you disable gzip compression</div><div class="line">    ## to be safe against BREACH attack.</div><div class="line">    # gzip off;</div><div class="line"></div><div class="line">    proxy_read_timeout      300;</div><div class="line">    proxy_connect_timeout   300;</div><div class="line">    proxy_redirect          off;</div><div class="line"></div><div class="line">    proxy_set_header    Host                $http_host;</div><div class="line">    proxy_set_header    X-Real-IP           $remote_addr;</div><div class="line">    proxy_set_header    X-Forwarded-For     $proxy_add_x_forwarded_for;</div><div class="line">    proxy_set_header    X-Forwarded-Proto   $scheme;</div><div class="line">    proxy_set_header    X-Frame-Options     SAMEORIGIN;</div><div class="line"></div><div class="line">    proxy_pass http://recipes;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  ## Enable gzip compression as per rails guide:</div><div class="line">  ## http://guides.rubyonrails.org/asset_pipeline.html#gzip-compression</div><div class="line">  ## WARNING: If you are using relative urls remove the block below</div><div class="line">  ## See config/application.rb under &quot;Relative url support&quot; for the list of</div><div class="line">  ## other files that need to be changed for relative url support</div><div class="line">  location ~ ^/(assets)/ &#123;</div><div class="line">    root /home/deploy/recipes/public;</div><div class="line">    gzip_static on; # to serve pre-gzipped version</div><div class="line">    expires max;</div><div class="line">    add_header Cache-Control public;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  error_page 502 /502.html;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>å»ºç«‹links:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo ln -s /etc/nginx/sites-available/recipes /etc/nginx/sites-enabled/recipes</div></pre></td></tr></table></figure>
<p>åˆ é™¤defaultï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo rm /etc/nginx/sites-enabled/default</div></pre></td></tr></table></figure>
<p>æµ‹è¯•è®¾ç½®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo nginx -t</div></pre></td></tr></table></figure>
<p>ä¼šå¼¹å‡ºsyntax is ok å’Œtest is successfulçš„ä¿¡æ¯ï¼Œç»ˆç«¯è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo service nginx restart</div></pre></td></tr></table></figure>
</li>
</ul>
<p>æœ€åçš„æ•ˆæœï¼š</p>
<p><img src="https://ws3.sinaimg.cn/large/006tKfTcly1fnvasde46qj30o809rjrn.jpg" alt=""></p>
<p>ã€Œç»ˆäºå‡ºæ¥äº†ï¼Œå¤ªä¸å®¹æ˜“äº†â€¦â€¦ã€</p>
<p>P.S</p>
<p>å¦‚æœ<code>sudo service nginx restart</code>æ²¡æœ‰ä»»ä½•ååº”ï¼Œå¯ä»¥æ£€æŸ¥ä»¥ä¸‹è·¯å¾„çš„logï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">cd /var/log/nginx</div><div class="line">cd recipes/log</div></pre></td></tr></table></figure>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://www.digitalocean.com/community/tutorials/how-to-deploy-a-rails-app-with-unicorn-and-nginx-on-ubuntu-14-04" target="_blank" rel="external">How To Deploy a Rails App with Unicorn and Nginx on Ubuntu 14.04</a></p>
<p><a href="https://linode.com/docs/development/ror/use-unicorn-and-nginx-on-ubuntu-14-04/" target="_blank" rel="external">Use Unicorn and Nginx to Configure Ruby on Rails Applications on Ubuntu 14.04</a></p>
<p><a href="https://github.com/huginn/huginn/blob/master/doc/manual/installation.md" target="_blank" rel="external">Huginn install guide for Ubuntu/Debian</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/01/24/learning-selenium-webdriver-ruby-version/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/24/learning-selenium-webdriver-ruby-version/" itemprop="url">
                  å­¦ä¹ Selenium webdriver - rubyç¯‡
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-24T19:44:17+08:00">
                2018-01-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Selenium/" itemprop="url" rel="index">
                    <span itemprop="name">Selenium</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/24/learning-selenium-webdriver-ruby-version/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/24/learning-selenium-webdriver-ruby-version/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>è¢«selenium webdriverä¸­çš„å®šä½è™è¿‡ï¼Œå†³å®šè¿‡ä¸€éè¿™æ–¹é¢çš„çŸ¥è¯†ç‚¹ï¼Œè®°å½•ä¸‹è¸©è¿‡çš„å‘ã€‚</p>
<p>å¥½ï¼Œæ¥è®¤è¯†ä¸‹selenium webdriveråŠå…¶ä½¿ç”¨ã€‚</p>
<h4 id="å‡ ä¸ªæ¦‚å¿µ"><a href="#å‡ ä¸ªæ¦‚å¿µ" class="headerlink" title="å‡ ä¸ªæ¦‚å¿µ"></a>å‡ ä¸ªæ¦‚å¿µ</h4><ul>
<li><p><strong>Selenium</strong></p>
<blockquote>
<p>Selenium is a set of different software tools each with a different approach to supporting test automation.</p>
<p>ä¸€å¥—ç”¨äºè¿›è¡Œæµè§ˆå™¨è‡ªåŠ¨åŒ–æµ‹è¯•çš„å¼€æºå·¥å…·é›†ã€‚seleniumçš„ä¸€ä¸ªé‡è¦ç‰¹æ€§æ˜¯æ”¯æŒæ‰€æœ‰ä¸»æµæµè§ˆå™¨ï¼ˆchromeï¼ŒFirefoxï¼ŒIEï¼ŒSafariï¼‰ã€‚</p>
<p>seleniumäº§ç”Ÿäº2004å¹´ï¼Œç”±Jason Hugginså¼€å‘ï¼Œèµ·å› æ˜¯ä»–ä¸ºäº†è§£å†³æ¯æ¬¡æ›´æ–°åº”ç”¨æ—¶ï¼Œéœ€è¦æ‰‹åŠ¨æµ‹è¯•å¸¦æ¥çš„ä½æ•ˆï¼Œä»–é€šè¿‡å¼€å‘ä¸€ä¸ªJavaScriptçš„libraryï¼Œå®ç°ä¸é¡µé¢è¿›è¡Œäº¤äº’ï¼Œä»è€Œå¯ä»¥åœ¨å¤šä¸ªæµè§ˆå™¨ä¹‹é—´å®ç°æµ‹è¯•è‡ªåŠ¨åŒ–ã€‚è€Œè¿™ä¸ªlibraryæœ€ç»ˆæˆä¸ºäº†åæ¥seleniumçš„å†…æ ¸ï¼ˆSelenium Coreï¼‰ã€‚</p>
<p>selenium testæ”¯æŒçš„è¯­è¨€ï¼š Javaï¼Œ C#ï¼Œ Javascriptï¼Œpythonï¼Œruby</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>Webdriver</strong></p>
<blockquote>
<p>06å¹´ï¼ŒGoogleçš„ä¸€ä½å·¥ç¨‹å¸ˆSimon Stewartå¼€å§‹ç€æ‰‹ä¸€ä¸ªé¡¹ç›®ï¼Œç”±äºSeleniumçš„èµ·æºæ˜¯ä¸€ä¸ª JavaScriptçš„libraryï¼ŒSimonå¸Œæœ›å¼€å‘å‡ºä¸€ä¸ªå¯ä»¥ç›´æ¥ä¸æµè§ˆå™¨è¿›è¡Œäº¤äº’çš„æµ‹è¯•å·¥å…·ï¼Œé€šè¿‡ä½¿ç”¨æµè§ˆå™¨å’Œæ“ä½œç³»ç»Ÿçš„åŸç”Ÿmethodsï¼Œä»¥é¿å…æ¥è‡ªJavaScriptç¯å¢ƒçš„é™åˆ¶ï¼Œ è¿™ä¸ªé¡¹ç›®å°±æ˜¯WebDriverï¼Œè¿™ä¹Ÿæ˜¯webdriverçš„ç”±æ¥ã€‚</p>
<p>ä½ å¯ä»¥ç†è§£æˆå®ƒæ˜¯ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œå¯ä»¥è®©ç”¨æˆ·ç¼–å†™å„ç§æ“ä½œä»£ç ï¼Œè¿™äº›ä»£ç å¯ä»¥åœ¨ä¸»æµæµè§ˆå™¨ä¸Šè¿è¡Œï¼Œä¸é¡µé¢è¿›è¡Œäº¤äº’ã€‚</p>
</blockquote>
</li>
</ul>
<ul>
<li><p><strong>Selenium Webdriver</strong></p>
<blockquote>
<p>08å¹´ï¼ŒSelenium ä¸ Webdriverè”å§»ï¼ŒäºŒè€…mergeäº†ã€‚mergeçš„åŸå› ï¼ŸSimon Stewartçš„åŸè¯ï¼š</p>
<p>â€˜â€™Why are the projects merging? Partly because WebDriver addresses some shortcomings in selenium (by being able to bypass the JS sandbox, for example. And weâ€™ve got a gorgeous API), partly because selenium addresses some shortcomings in WebDriver (such as supporting a broader range of browsers) and partly because the main selenium contributors and I felt that it was the best way to offer users the best possible frameworkâ€™â€˜</p>
<p>æˆ‘ç®€å•åœ°ç†è§£æˆå„æœ‰åƒç§‹ï¼Œäº’è¡¥å¢å¼ºã€‚</p>
</blockquote>
</li>
</ul>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><p>åŸºæœ¬ç”¨æ³•å…¶å®å°±æ˜¯å®šä½åˆ°é¡µé¢æŒ‡å®šçš„å…ƒç´ ï¼Œç„¶åå¯¹å…ƒç´ è¿›è¡Œæ“ä½œï¼Œæ¯”å¦‚å•å‡»ã€æ»šåŠ¨ã€è¾“å…¥ç­‰ç­‰ã€‚</p>
<p>çœ‹ä¸€æ®µç®€å•çš„rubyä»£ç ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># require selenium-webdriver module</span></div><div class="line"><span class="keyword">require</span> <span class="string">"selenium-webdriver"</span></div><div class="line"><span class="comment"># æ‰“å¼€ä¸€ä¸ªFirefoxçš„æµè§ˆå™¨ï¼Œä¹Ÿå¯ä»¥æ‰“å¼€chromeï¼ŒIEï¼Œå°†:firefoxæ¢æˆ:chrome, :ie</span></div><div class="line">driver = Selenium::WebDriver.<span class="keyword">for</span> <span class="symbol">:firefox</span></div><div class="line"><span class="comment"># æ‰“å¼€ç½‘é¡µ</span></div><div class="line">driver.navigate.to <span class="string">"http://www.google.com"</span></div><div class="line"><span class="comment"># å®šä½å…ƒç´ </span></div><div class="line">element = driver.find_element(<span class="symbol">:name</span>, <span class="string">'q'</span>)</div><div class="line"><span class="comment"># å¯¹å…ƒç´ è¿›è¡Œæ“ä½œ</span></div><div class="line">element.send_keys <span class="string">"Hello Selenium WebDriver!"</span></div><div class="line">element.submit</div></pre></td></tr></table></figure>
<h4 id="å®šä½åŠæ“ä½œ"><a href="#å®šä½åŠæ“ä½œ" class="headerlink" title="å®šä½åŠæ“ä½œ"></a>å®šä½åŠæ“ä½œ</h4><p>find_element: æŸ¥æ‰¾åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ </p>
<p>find_elements: æŸ¥æ‰¾åŒ¹é…åˆ°çš„æ‰€æœ‰å…ƒç´ </p>
<p>åœ¨Selenium webdriverä¸­ï¼Œä¸»è¦æœ‰ä»¥ä¸‹å‡ ç±»ï¼š</p>
<ul>
<li><p><strong>ID</strong></p>
<p>é€šè¿‡IDæ¥å®šä½å…ƒç´ ï¼ŒIDæ˜¯å”¯ä¸€çš„ï¼Œé€šå¸¸è¾ƒå°‘å˜åŠ¨ï¼Œæ‰€ä»¥å¯ä»¥å¾ˆå‡†ç¡®åœ°å®šä½åˆ°æŒ‡å®šå…ƒç´ ã€‚</p>
<p>æ¯”å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">element = driver.find_element(<span class="symbol">:id</span>, <span class="string">"username"</span>)</div><div class="line">element.send_keys(<span class="string">"admin"</span>)</div><div class="line">driver.find_element(<span class="symbol">:id</span>, <span class="string">"submit"</span>).click</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Name</strong></p>
<p>Nameä¹Ÿæ˜¯æ¯”è¾ƒå¸¸ç”¨çš„å®šä½æ–¹å¼</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">element = driver.find_element(<span class="symbol">:name</span>, <span class="string">"username"</span>)</div><div class="line">driver.find_element(<span class="symbol">:name</span>, <span class="string">"comment"</span>).send_keys(<span class="string">"my comments"</span>)</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Link Text</strong></p>
<p>åªç”¨äºè¶…é“¾æ¥å…ƒç´ çš„å®šä½</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:link_text</span>, <span class="string">"Cancel"</span>).click</div><div class="line">driver.find_element(<span class="symbol">:link</span>, <span class="string">"Login"</span>)</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Partial Link Text</strong></p>
<p>selenium å…è®¸é€šè¿‡ä¸€éƒ¨åˆ†çš„è¶…é“¾æ¥æ–‡æœ¬æ¥å®šä½æŸä¸ªè¶…é“¾æ¥ï¼Œæ¯”å¦‚:</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="comment"># ç‚¹å‡»åˆ°â€œcancelâ€ æˆ–è€…â€œCancelâ€é“¾æ¥</span></div><div class="line">driver.find_element(<span class="symbol">:partial_link_text</span>, <span class="string">"ancel"</span>).click</div></pre></td></tr></table></figure>
</li>
<li><p><strong>XPath</strong></p>
<p>Xpath å‡ ä¹å¯ä»¥å®šä½åˆ°é¡µé¢ä¸Šçš„ä»»ä½•ä¸€ä¸ªå…ƒç´ ã€‚XPathæ˜¯XML pathçš„ç®€ç§°ï¼Œå®ƒæœ‰ä¸¤ç§ç”¨æ³•ï¼š</p>
<ul>
<li>ç»å¯¹è·¯å¾„,  ç”¨â€/â€œ, ä¾‹å¦‚ï¼š<code>/html/body/table[1]</code></li>
<li>ç›¸å¯¹è·¯å¾„ï¼Œç”¨â€//â€œ</li>
</ul>
<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:xpath</span>, <span class="string">"//*[@id='div2']/input[@type='checkbox']"</span>).click</div><div class="line">driver.find_element(<span class="symbol">:xpath</span>,<span class="string">"//input[@value='Sign in']"</span>)</div><div class="line">driver.find_element(<span class="symbol">:xpath</span>, <span class="string">"//a[@href='/logout']"</span>).click</div></pre></td></tr></table></figure>
<p>ä¸€èˆ¬ä¸æ¨èç”¨ç»å¯¹è·¯å¾„ï¼Œå› ä¸ºä¸€æ—¦é¡µé¢ç»“æ„å‘ç”Ÿå˜åŒ–ï¼Œè¯¥è·¯å¾„éšä¹‹å¤±æ•ˆã€‚</p>
</li>
<li><p><strong>Tag Name</strong></p>
<p>é€šè¿‡å…ƒç´ çš„æ ‡ç­¾åç§°æ¥æŸ¥æ‰¾å…ƒç´ ,ä¸è¿‡è¿™ç§æ–¹æ³•æ‰¾åˆ°çš„å…ƒç´ é€šå¸¸ä¸æ­¢ä¸€ä¸ªã€‚</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:tag_name</span>, <span class="string">"body"</span>)</div><div class="line">driver.find_element(<span class="symbol">:tag_name</span>, <span class="string">"body"</span>).text</div><div class="line"><span class="comment"># æŸ¥çœ‹buttonçš„ä¸ªæ•°</span></div><div class="line">button_elems = driver.find_elements(<span class="symbol">:tag_name</span>, <span class="string">"button"</span>)</div><div class="line">button_elems.count</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Class Name</strong></p>
<p>è¿™æ˜¯åˆ©ç”¨å…ƒç´ çš„cssæ ·å¼è¡¨æ‰€å¼•ç”¨çš„ç±»åç§°æ¥è¿›è¡ŒæŸ¥æ‰¾ï¼Œä¸è¿‡å½“æŸä¸ªå…ƒç´ å«æœ‰å¤šä¸ªç±»æ—¶ï¼Œä¸å¯ä»¥ä½¿ç”¨å¤šä¸ªç±»æ¥æŸ¥æ‰¾ã€‚</p>
<p>ä¾‹å¦‚å¦‚ä¸‹çš„HTMLï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"back.html"</span> <span class="attr">class</span>=<span class="string">"btn btn-default"</span>&gt;</span>Cancel<span class="tag">&lt;/<span class="name">a</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"submit"</span> <span class="attr">class</span>=<span class="string">"btn btn-deault btn-primary"</span>&gt;</span>Submit<span class="tag">&lt;/<span class="name">input</span>&gt;</span></div></pre></td></tr></table></figure>
<p>å¯¹åº”çš„å…ƒç´ å®šä½ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:class</span>, <span class="string">"btn-primary"</span>).click <span class="comment"># Submit button</span></div><div class="line">driver.find_element(<span class="symbol">:class</span>, <span class="string">"btn"</span>).click <span class="comment"># Cancel link</span></div></pre></td></tr></table></figure>
<p>è¿™é‡ŒCancelå’ŒSubmitéƒ½æœ‰â€btnâ€è¿™ä¸ªclassï¼Œfind_elementä¼šè¿”å›åŒ¹é…åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼Œæ‰€ä»¥<code>driver.find_element(:class, &quot;btn&quot;).click</code> ç‚¹å‡»çš„æ˜¯cancelè¿™ä¸ªbuttonã€‚</p>
<p>ä½†æ˜¯ä¸å…è®¸æŒ‡å®šå¤šä¸ªclassï¼Œä¸‹é¢è¿™æ ·çš„ç”¨æ³•æ˜¯é”™è¯¯çš„ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:class</span>, <span class="string">"btn btn-deault btn-primary"</span>).click</div></pre></td></tr></table></figure>
<p>å¦‚æœæƒ³è¦å®šä½å¸¦æœ‰å¤šä¸ªclassçš„å…ƒç´ ï¼Œæ€ä¹ˆåŠï¼Ÿå¯ä»¥ä½¿ç”¨CSS Selectorã€‚</p>
</li>
<li><p><strong>CSS Selector</strong></p>
<p>å®šä½IDä¸ºloginçš„å…ƒç´ ä¸‹é¢çš„textï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:css</span>, <span class="string">"#login &gt; input[type='text']"</span>).click</div></pre></td></tr></table></figure>
<p>å½“éœ€è¦æŒ‡å®šå¤šä¸ªå±æ€§å€¼æ—¶ï¼Œå¯ä»¥é€ä¸€åŠ åœ¨åé¢ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:css</span>, <span class="string">"#login &gt; input[type='text'][name = 'username']"</span>)</div></pre></td></tr></table></figure>
<p>è€Œä¸Šé¢å¤šä¸ªclassçš„æƒ…å†µï¼Œå¯ä»¥è¿™ä¹ˆå†™ï¼š</p>
<figure class="highlight ruby"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">driver.find_element(<span class="symbol">:css</span>, <span class="string">"input.btn.btn-deault.btn-primary"</span>).click</div></pre></td></tr></table></figure>
</li>
</ul>
<p><strong>å°ç»“ï¼š</strong></p>
<p>çœ‹è¿‡ä¸€äº›å‰è¾ˆå†™çš„ç›¸å…³æ–‡ç« ï¼Œé‡Œé¢æåˆ°å®šä½çš„ä¸€äº›åŸåˆ™ï¼Œæ¯”å¦‚ï¼šXpathå¾ˆå¼ºå¤§ï¼Œä½†æ˜¯éå¸¸è´¹æ—¶ï¼Œéœ€è¦æ‰«ææ•´ä¸ªç½‘é¡µæ¥å®šä½ï¼Œå°½é‡å°‘ç”¨ã€‚Css selectorä¸xpathæ¯”è¾ƒç±»ä¼¼ï¼Œä½†æ˜¯æ‰§è¡Œé€Ÿåº¦è¦æ›´å¿«ï¼Œæœ‰IDçš„å°½é‡ç”¨IDï¼Œåˆ«æµªè´¹ã€‚</p>
<h4 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h4><p><a href="https://www.protechtraining.com/content/selenium_tutorial-locators" target="_blank" rel="external">Selenium Tutorial: Locators</a></p>
<p><a href="http://docs.seleniumhq.org/docs/" target="_blank" rel="external">Selenium Documentation</a></p>
<p>å¦ï¼Œæ¨èä¸€ä¸ªå°å†Œå­ï¼š<a href="https://leanpub.com/selenium-recipes-in-ruby" target="_blank" rel="external">Selenium WebDriver Recipes in Ruby</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/01/21/the-age-of-mark/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/21/the-age-of-mark/" itemprop="url">
                  å°é©¬å“¥çš„æ—¶ä»£
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-21T08:23:26+08:00">
                2018-01-21
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ç¢è¯­æˆç¯‡/" itemprop="url" rel="index">
                    <span itemprop="name">ç¢è¯­æˆç¯‡</span>
                  </a>
                </span>

                
                
              
            </span>
          

          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>å†çœ‹å´å®‡æ£®1986å¹´çš„é»‘å¸®ç‰‡ã€Šè‹±é›„æœ¬è‰²ã€‹ï¼Œå› ä¸ºå–œæ¬¢å¬åŸç‰ˆå‘éŸ³ï¼ŒæŒ‘äº†ç²¤è¯­ç‰ˆã€‚</p>
<p>å®æ€ä¸ç¦»å…„å¼Ÿæƒ…ï¼Œæ±Ÿæ¹–ä¸ç¦»ä¸€ä¸ªâ€œä¹‰â€å­—ï¼Œæ¥æ‰¯æ‰¯å‡ ä¸ªå°è±¡æ·±åˆ»çš„åœºæ™¯ã€‚</p>
<p>å½±ç‰‡å¼€å§‹åçš„ä¸€ä¸ªç‰‡æ®µï¼Œå°é©¬å“¥Markè·Ÿè±ªå“¥ï¼Œé˜¿æˆä¸‰äººåœ¨é…’å§ä¸€èµ·å–é…’ï¼Œè±ªå“¥æåˆ°è‡ªå·±å‡†å¤‡æ”¶æ‰‹ï¼Œå°é©¬å“¥éšåè¯´èµ·è‡ªå·±å¦‚ä½•æ‹¿ä¸‹ç¬¬ä¸€å•ç”Ÿæ„ï¼Œè¿™æ®µå°è¯æ¯”è¾ƒå¤šï¼Œå¾ˆè€ƒéªŒæ¼”æŠ€ï¼Œæ¶‰åŠé¢éƒ¨è¡¨æƒ…ï¼Œçœ¼ç¥ï¼Œè¿å¸¦ç€æ‰‹çš„åŠ¨ä½œï¼Œæ­é…ç€åš¼ç«æŸ´æ£ï¼Œæœ€åè¯´åˆ°â€œé‚£æ˜¯æˆ‘ç¬¬ä¸€æ¬¡æµçœ¼æ³ªâ€æ—¶ï¼Œå°é©¬å“¥çœ¼çœ¶æ³›çº¢ï¼Œæ•´ä¸ªè¿‡ç¨‹æ”¶æ”¾è‡ªå¦‚ï¼Œç‰¹åˆ«è‡ªç„¶ï¼Œå‰å®³å•Šï¼Œä¸æ„§æ˜¯å½±å¸ã€‚åé¢å¤šå¤„ä¹Ÿæœ‰ç²¾å½©è¡¨ç°ï¼Œæ•´ä¸ªç‰‡å­é‡Œï¼Œå°é©¬å“¥ä¸æ˜¯å”¯ä¸€çš„ä¸»è§’ï¼Œå¯å´æ˜¯æœ€å‡ºå½©çš„é‚£ä¸ªã€‚</p>
<p>è±ªå“¥å‡ºç‹±ï¼Œæ‰¾äº†ä»½å‡ºç§Ÿè½¦å¸æœºçš„å·¥ä½œåï¼Œå»çœ‹äº†æ˜”æ—¥çš„å…„å¼Ÿå°é©¬å“¥ï¼Œçœ‹åˆ°ä»–ç©¿ç€æ—§æ—§çš„å·¥ä½œæœï¼Œè·›ç€è…¿åœ¨æ“¦æ´—è½¦å­ï¼Œå¦ˆå‘€ï¼Œholdä¸ä½ï¼Œè¿™ä¸€å¹•ç«Ÿç„¶çœ‹å“­äº†â€¦â€¦éšåï¼Œé˜¿æˆå‡ºåœºï¼Œå°é©¬å“¥ç»™é˜¿æˆå¼€è½¦é—¨ï¼Œè¢«ä¾®è¾±ï¼Œè½¦å¼€èµ°åï¼Œæ¡èµ·æ•£è½åœ¨åœ°çš„é’ç¥¨ã€è¿™é‡Œï¼Œåœ¨æ¡èµ·é’ç¥¨ä¹‹å‰ï¼Œå°é©¬å“¥è¿˜æœå·¦å³â€œä¸ç»æ„â€åœ°çœ‹äº†ä¸‹ï¼Œè¿™ä¸ªç»†èŠ‚å¤„ç†å¾—çœŸå¥½ã€‘ï¼Œæƒ³èµ·ã€Šåˆ€é”‹1937ã€‹é‡Œé¢åŒºåå››ä¹Ÿæ˜¯è·›ç€è…¿ï¼Œå¿è¾±è´Ÿé‡åœ¨ä¸€å®¶é…’åº—æ‰“æ‚ï¼Œç­‰ç€è‡ªå·±çš„è€å¤§åºå¾·å‡ºç‹±åä¸œå±±å†èµ·ï¼Œå‰§ä¸­è¿™ä¸ªæƒ…èŠ‚çš„è®¾è®¡è«ä¸æ˜¯å€Ÿé‰´äº†è¿™é‡Œï¼Ÿ</p>
<p>èº«ä¸ºé˜¿sirçš„å¼Ÿå¼Ÿé˜¿æ°åœ¨é…’å§å¤–é¢ç›˜é—®è±ªå“¥ï¼Œè±ªå“¥è½¬è¿‡è„¸ï¼Œç„¶åè½¬å›æ¥ï¼Œå’¬ç€å˜´å”‡ã€ä¸ºä»€ä¹ˆæˆ‘è§‰å¾—ä»–è¿™ä¸ªå’¬å˜´å”‡çš„åŠ¨ä½œæ˜¯ä¸ºäº†æ†‹ä½ä¸è®©è‡ªå·±ç¬‘å‡ºæ¥ï¼Ÿã€‘ï¼Œè¯´äº†å¥ï¼š â€œé˜¿SIRï¼Œæˆ‘æ²¡æœ‰å½“å¤§å“¥å·²ç»å¾ˆä¹…äº†ã€‚â€œ è¯´å®Œâ€œé˜¿SIRâ€ï¼Œçœ‹è±ªå“¥çš„è¡¨æƒ…ï¼Œå¥½åƒé‚£æ†‹ä½çš„ç¬‘å·²ç»ä»è„¸ä¸Šè·‘å‡ºæ¥äº†ï¼Œå“ˆå“ˆï¼ŒåŸè°…æˆ‘ï¼Œå¬å®Œä»–è¿™ä¸€å¥ï¼Œç¬‘å–·äº†ï¼Œå“ˆå“ˆã€‚</p>
<p>æœ€åæ¸¡å£ä¸€æˆ˜ï¼Œå°é©¬å“¥å¼€èˆ¹ç¦»å¼€ï¼Œå¼€åˆ°åŠè·¯ï¼ŒæŠ˜è¿”ï¼Œåœ¨èˆ¹ä¸Šå¼€ç«ï¼Œæµ“çƒŸæ»šæ»šï¼Œä¸å¾—ä¸è¯´ï¼Œæ­¤æ—¶è´´ç€ç»‘å¸¦çš„å°é©¬å“¥å¥½å¸…å•Šï¼</p>
<p>åé¢æœ‰ä¸€ä¸ªé•œå¤´ï¼Œæˆ‘è§‰å¾—æœ‰ç‚¹å¥‡æ€ªï¼Œæ¸¡å£é‚£åœºæªæˆ˜ï¼Œå°é©¬å“¥åœ¨æ•™è®­é˜¿æ°çš„æ—¶å€™ï¼Œè¯´å‡ºé‚£å¥ï¼šâ€œåšå…„å¼Ÿçš„â€¦â€¦â€ï¼Œç„¶åè¢«æªå°„ä¸­ï¼Œå°é©¬å“¥å›èº«ï¼Œè¢«æ‰“æˆäº†ç­›å­ï¼Œé‚£æ—¶å€™é˜¿æ°æœ‰æªçš„å‘€ï¼Œä»–ç«Ÿç„¶ä¸å¼€æªï¼Œçœ‹åˆ°å°é©¬å“¥è¢«æ€ï¼Œç¬¬ä¸€ååº”ä¸æ˜¯ç«‹é©¬æ‹¿èµ·æªå¯¹å‡†é˜¿æˆå—ï¼Ÿä¼°è®¡æ˜¯å“å‚»äº†ï¼Ÿè±ªå“¥è·‘è¿‡å»ï¼ŒæŠ±èµ·å€’ä¸‹çš„å°é©¬å“¥ï¼Œçœ‹äº†çœ¼å¼Ÿå¼Ÿï¼Œå‘ƒï¼Œé˜¿æ°æ­¤æ—¶ç«Ÿç„¶å¤´ä¸€è€·æ‹‰ï¼Œæ˜¯æƒ³è¦è¡¨ç°å‡ºè‡ªå·±è¯¯ä¼šäº†å“¥å“¥ï¼Œä¸å¥½æ„æ€ç›´è§†å“¥å“¥ï¼Œå†…å¿ƒçº ç»“ï¼Ÿå—¯ï¼Œå¤§æ¦‚å› ä¸ºå¼€æªæ˜¯ä¸ªä½“åŠ›æ´»ï¼Œä»–å…«æˆæ˜¯æ‰“ç´¯äº†è¦ä¼‘æ¯ä¼šï¼Ÿæ¯•ç«Ÿå¼ å›½è£å“¥å“¥é‚£æ—¶å€™è¿˜å¾ˆå«©ï¼Œè€Œæ¼”æŠ€æ˜¯ä¸ªæŠ€æœ¯æ´»ã€‚</p>
<p>å¦å¤–ï¼Œè°èƒ½å‘Šè¯‰æˆ‘ï¼Œä¸ºä»€ä¹ˆä»–ä»¬éƒ½ä¸çŸ¥é“ç©¿é˜²å¼¹è¡£å•Šï¼ï¼ï¼</p>
<p>æ­¤å¤–ï¼Œå½±ç‰‡ä¸­æœ‰å‡ å¤„æªæˆ˜ï¼Œå¾ˆå¤šäººéƒ½ä¼šè¢«ä¸­é—´å°é©¬å“¥åœ¨é…’å®¶çš„é‚£åœºåœˆç²‰ï¼Œç¡®å®ç²¾å½©ï¼Œå¯æ˜¯æˆ‘è§‰å¾—æ¯”èµ·æœçªå³°ã€Šæ”¾é€ã€‹ä¸­æœ€åçš„é‚£ä¸€å¹•æ—…é¦†æªæˆ˜ï¼Œè¿˜æ˜¯è§‰å¾—æœçš„æ›´å¥½çœ‹ï¼ŒBGMæ›´æ˜¯æƒŠè‰³ã€‚ä¸è¿‡é«˜æ‰‹å°±æ˜¯é«˜æ‰‹ï¼Œéƒ½èƒ½æŠŠæªæˆ˜æ‹å¾—å¦‚æ­¤åä¸½å¯Œæœ‰ç¾æ„Ÿï¼Œçœ‹ç€ç‰¹åˆ«ç•…å¿«ã€‚</p>
<p>BTWï¼Œ ã€Šè‹±é›„æœ¬è‰²ã€‹çš„è‹±è¯‘ç«Ÿç„¶æ˜¯ A better tomorrowï¼Œ æŒºç‰¹åˆ«çš„ã€‚</p>
<p>ä»¥ä¸Šï¼Œä¸€ä¸ªäºŒé€¼çš„è§‚å½±æ‰¯æ·¡ã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/01/19/usage-of-vagrant/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/19/usage-of-vagrant/" itemprop="url">
                  æ¥è®¤è¯†ä¸‹å¤§åé¼é¼çš„vagrant
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-19T23:13:02+08:00">
                2018-01-19
              </time>
            

            

            
          </span>

          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/19/usage-of-vagrant/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/19/usage-of-vagrant/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h4><p>æœ€è¿‘åšéƒ¨ç½²çš„æ—¶å€™ï¼Œè€å¤§æ¨èäº†ä¸€ä¸ªç‰¹åˆ«å¥½ç”¨çš„å·¥å…·<a href="https://www.vagrantup.com/" target="_blank" rel="external">Vagrant</a>ï¼Œä¸€ä¸ªç”¨äºé…ç½®å’Œç®¡ç†è™šæ‹Ÿè½¯ä»¶å¼€å‘ç¯å¢ƒçš„å¼€æºè½¯ä»¶ï¼Œ å®˜æ–¹GitHubåº“<a href="https://github.com/hashicorp/vagrant" target="_blank" rel="external">vagrant</a>ã€‚</p>
<p>è¯•äº†ä¸‹ï¼Œå¾ˆèµï¼Œæ¥è®¤è¯†ä¸€ä¸‹vagrantã€‚</p>
<p>ã€Œä»¥ä¸‹å‡ä»¥OS Xä¸ºä¾‹ï¼ŒWindowç±»ä¼¼ã€‚ã€</p>
<h4 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h4><p>vagrantéœ€è¦ä¾èµ–äºè™šæ‹Ÿæœºï¼Œè™šæ‹Ÿæœºå¸¸è§çš„æœ‰virtual box å’Œ VMWareï¼Œå®˜ç½‘ä¸Šæ¨å‡ºäº†<a href="https://www.vagrantup.com/vmware/index.html" target="_blank" rel="external">vagrant + vmware ä»˜è´¹ç‰ˆ</a>ï¼Œä½†å…¶é»˜è®¤æ˜¯virtual boxï¼Œæ‰€ä»¥æˆ‘ä»¬é€‰æ‹©virtual box : P</p>
<ul>
<li><p>è£…virtual box</p>
<p>å»<a href="https://www.virtualbox.org/wiki/Downloads" target="_blank" rel="external">å®˜ç½‘</a>, é€‰æ‹©å¯¹åº”çš„å®‰è£…åŒ…ï¼Œç‚¹å‡»ä¸‹è½½ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fnjmua2dguj30m7056gmi.jpg" alt=""></p>
<p>ä¸‹è½½å¥½åï¼Œå®‰è£…å³å¯ã€‚</p>
</li>
<li><p>è£…Vagrant</p>
<p>æˆ³è¿™é‡Œ<a href="https://www.vagrantup.com/downloads.html" target="_blank" rel="external">download vagrant</a>ï¼Œä¸‹è½½å¯¹åº”çš„å®‰è£…åŒ…ï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fnjmye7sl5j30kw0gdabd.jpg" alt=""></p>
<p>ä¸‹è½½å¥½åï¼Œå®‰è£…å³å¯ã€‚</p>
</li>
</ul>
<h4 id="å¼€å§‹"><a href="#å¼€å§‹" class="headerlink" title="å¼€å§‹"></a>å¼€å§‹</h4><ul>
<li><p><strong>åˆ›å»º<code>Vagrantfile</code> æ–‡ä»¶</strong></p>
<p>ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir vagrant_started</div><div class="line">cd vagrant_started</div><div class="line">vagrant init</div></pre></td></tr></table></figure>
<p>åœ¨vagrant_startedç›®å½•ä¸‹ï¼Œä¼šç”Ÿæˆä¸€ä¸ªVagrantfileæ–‡ä»¶ï¼Œ<code>vi Vagrantfile</code>æ‰“å¼€çœ‹ä¸€ä¸‹ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79gy1fnjnwdwz6bj30q209vtah.jpg" alt=""></p>
<p>å¯ä»¥çœ‹åˆ°é‡Œé¢çš„boxï¼Œä½ å¯ä»¥ç†è§£æˆæ˜¯é•œåƒï¼Œæ˜¯â€baseâ€ã€‚</p>
</li>
<li><p><strong>æ·»åŠ box</strong></p>
<p>ç»ˆç«¯è¾“å…¥<code>vagrant box add box&#39;name</code>æ¥æ·»åŠ boxï¼Œæ¯”å¦‚æ·»åŠ ubuntu/trusty64ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">vagrant box add ubuntu/trusty64</div></pre></td></tr></table></figure>
<p><a href="https://vagrantcloud.com/boxes/search" target="_blank" rel="external">HashiCorpâ€™s Vagrant Cloud box catalog</a> åˆ—å‡ºäº†å¾ˆå¤šboxï¼Œéšå–éšç”¨ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p>
<p>æ·»åŠ boxä¼šæœ‰ç‚¹æ…¢ï¼Œé™ç­‰å®ƒæ·»åŠ å®Œæˆï¼Œç„¶åä¿®æ”¹ä¸€ä¸‹Vagrantfileï¼Œ æŠŠ<code>base</code>æ”¹æˆ<code>ubuntu/trusty64</code>ï¼š</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fnjo73znhsj30pw07875q.jpg" alt=""></p>
</li>
</ul>
<p>â€‹     ä¹Ÿå¯ä»¥æŒ‡å®šç‰ˆæœ¬ï¼Œä½¿ç”¨<code>config.vm.box_version = &quot;X.X.X&quot;</code> ï¼Œ å…¶ä¸­x.x.xæ˜¯ç‰ˆæœ¬å·ã€‚</p>
<p>â€‹    <strong>å½“ç„¶ä¸Šé¢çš„è¿™ä¸¤æ­¥ã€åˆ›å»º<code>Vagrantfile</code> æ–‡ä»¶ï¼Œæ·»åŠ box ã€‘ä¹Ÿå¯ä»¥åˆå¹¶æˆä¸€æ­¥ï¼š</strong></p>
<pre><code>**ç»ˆç«¯è¾“å…¥ï¼š`vagrant init ubuntu/trusty64` ã€‚** ã€ä¸è¦é—®ä¸ºä»€ä¹ˆä¸æ—©è¯´ï¼Œå¤šæ•²ç‚¹ä»£ç å°±å½“è¿åŠ¨äº†â€¦â€¦ã€‘
</code></pre><ul>
<li><p>å¼€å§‹å¯ç”¨å§</p>
<p>ç»ˆç«¯è¾“å…¥<code>vagrant up</code>,  å¯ç”¨ubuntuï¼Œå†æ¬¡è¾“å…¥<code>vagrant ssh</code>, è¿›å…¥ubuntuè™šæ‹Ÿç¯å¢ƒï¼Œç„¶åå°±å¯ä»¥å¥½å¥½ç©äº†ï¼é€€å‡ºä½¿ç”¨<code>exit</code>ã€‚</p>
</li>
<li><p>æ–‡ä»¶åŒæ­¥ã€è¿™ä¸ªæœ€é…·å•¦ï¼ã€‘</p>
<p>å¦‚æœä½ æŒ‰ç…§å®˜æ–¹æ–‡æ¡£çš„è¯´æ˜å»åšæ–‡ä»¶åŒæ­¥ï¼Œæ˜¯è¿™æ ·çš„ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fnjphz7zsvj30g804cmx7.jpg" alt=""></p>
<p>ä½†æ˜¯è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼Œè¾“å…¥<code>ls /vagrant</code>æ—¶ï¼Œæ˜¾ç¤ºæ²¡æœ‰è¿™ä¸ªæ–‡ä»¶ç›®å½•ï¼Œé‚£å°±æ–°å»ºä¸ª<code>mkdir vagrant</code>ï¼Œå½“ç„¶é‡Œé¢æ˜¯ç©ºçš„ï¼Œç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">mkdir vagrant &amp;&amp; cd vagrant</div><div class="line">vim foo</div><div class="line">exit</div></pre></td></tr></table></figure>
<p>é€€å‡ºåï¼Œåœ¨ä¸»æœºè¾“å…¥ï¼š<code>ls</code>ï¼Œ å¹¶æ²¡æœ‰å‘ç°åˆšåˆšæ–°å»ºçš„fooæ–‡ä»¶ï¼Œso , where is synced file?</p>
<p>è¿™é‡Œæœ‰ä¸€æ­¥è®¾ç½®æ²¡æœ‰å®Œæˆï¼Œè¯¦è§ï¼š<a href="https://github.com/hashicorp/vagrant/issues/7157" target="_blank" rel="external">default virtualbox synced folder doesnâ€™t mount</a></p>
<p>è§£å†³æ–¹æ³•ä¹Ÿå¾ˆç®€å•ï¼š</p>
<p>åœ¨Vagrantfileä¸­ï¼Œæ‰¾åˆ°config.vm.synced_folderï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fnjq0y7qboj30nd03ft97.jpg" alt=""></p>
<p>ä¿®æ”¹æˆï¼š config.vm.synced_folder â€œ.â€, â€œ/vagrantâ€, type: â€œvirtualboxâ€</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fnjqdt327pj30jl02xq3f.jpg" alt=""></p>
<p>å†è¯•ä¸€ä¸‹ï¼Œä¼šå‘ç°æ–‡ä»¶åŒæ­¥æˆåŠŸï¼</p>
</li>
<li><p>åˆ é™¤VM</p>
<p>æƒ³è¦åˆ é™¤VMæ—¶ï¼Œä½¿ç”¨<code>vagrant destroy</code>å³å¯ã€‚</p>
</li>
</ul>
<p>â€‹    OKï¼ŒThatâ€˜s all.</p>
<p>â€‹    æœ‰å…³provisionï¼Œ networkç­‰éƒ¨åˆ†çš„ç©æ³•ï¼Œå¯æŸ¥é˜…vagrantçš„<a href="https://www.vagrantup.com/intro/getting-started/up.html" target="_blank" rel="external">getting up</a>ã€‚</p>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="https://www.vagrantup.com/intro/index.html" target="_blank" rel="external">Introduction to Vagrant</a></p>
<h4 id="ç»“è¯­"><a href="#ç»“è¯­" class="headerlink" title="ç»“è¯­"></a>ç»“è¯­</h4><p>Googleä¸‹â€œVagrantçš„ä½¿ç”¨â€ï¼Œå°±ä¼šçœ‹åˆ°å¾ˆå¤šäººå†™è¿‡Vagrantæ–¹é¢çš„æ–‡ç« ï¼Œå¯ä»¥å‚è€ƒã€‚</p>
<ul>
<li><a href="https://imququ.com/post/vagrantup.html" target="_blank" rel="external">å¼€å§‹ä½¿ç”¨ Vagrant</a></li>
<li><a href="http://blog.csdn.net/hel12he/article/details/51069269" target="_blank" rel="external">vagrantçš„å®‰è£…ä¸åˆè¯†</a></li>
</ul>
<p>ä¸è¿‡çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œè‡ªå·±åŠ¨æ‰‹å»åšä¼šè§‰å¾—å¾ˆèµçš„ï¼Œenjoy ï¼šP</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/01/17/update-nodejs-in-ubuntu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/17/update-nodejs-in-ubuntu/" itemprop="url">
                  Ubuntuä¸‹æ›´æ–°nodejs
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-17T20:29:54+08:00">
                2018-01-17
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Ubuntu/" itemprop="url" rel="index">
                    <span itemprop="name">Ubuntu</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/17/update-nodejs-in-ubuntu/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/17/update-nodejs-in-ubuntu/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>åœ¨éƒ¨ç½²Railsé¡¹ç›®æ—¶ï¼Œä¸å°å¿ƒæ‰è¿›äº†nodejsç‰ˆæœ¬çš„å‘é‡Œé¢ï¼Œè®°å½•ä¸‹ä»¥å…å†æ¬¡å…¥å‘ã€‚</p>
<h4 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h4><p>æœ¬åœ°è¿è¡Œ<code>cap production deploy</code>åï¼Œåœ¨<code>deploy:assets:precompile</code>éƒ¨åˆ†ï¼Œå¼¹å‡ºå¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fni6tlxilhj30u706o3zq.jpg" alt=""></p>
<p>æ˜¾ç¤ºnodeç‰ˆæœ¬4.2.6 ä¸æ”¯æŒï¼Œç¡®å®æŒºè€äº†ï¼Œè€Œä¸”å¯èƒ½å¸¦æ¥bugï¼Œ å¥½ï¼Œé‚£å°±å‡çº§ä¸‹ã€‚</p>
<h4 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h4><p>ç™»é™†è¿œç¨‹æœåŠ¡å™¨ï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo apt-get update</div><div class="line">npm -v</div></pre></td></tr></table></figure>
<p>å‘ç°npmç‰ˆæœ¬ä¸º3.5.2ï¼Œå‡çº§ä¸‹npmï¼Œåœ¨ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install npm@latest -g</div></pre></td></tr></table></figure>
<p>å†æ¬¡æ£€æŸ¥npmç‰ˆæœ¬ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm -v</div></pre></td></tr></table></figure>
<p>ä¼šå¼¹å‡ºå¦‚ä¸‹æŠ¥é”™ï¼š</p>
<blockquote>
<p>ERROR: npm is known not to run on Node.js v4.2.6</p>
<p>Node.js 4 is supported but the specific version youâ€™re running has<br>a bug known to break npm. Please update to at least 4.7.0 to use this<br>version of npm. You can find the latest release of Node.js at <a href="https://nodejs.org/" target="_blank" rel="external">https://nodejs.org/</a></p>
</blockquote>
<p>è¿™é‡Œæ˜¾ç¤ºnodejsç‰ˆæœ¬è¿‡ä½ï¼Œéœ€è¦å‡çº§è‡³4.7.0 + ï¼Œä½†æ˜¯æ‰“å¼€é“¾æ¥ï¼Œæ˜¾ç¤ºçš„æ˜¯macä¸‹çš„å®‰è£…åŒ…ï¼Œæ‰¾åˆ°<a href="https://nodejs.org/en/download/package-manager/#debian-and-ubuntu-based-linux-distributions" target="_blank" rel="external">Debian and Ubuntu based Linux distributions</a>ï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fni73b82dtj30pi0iagom.jpg" alt=""></p>
<p>å…ˆæ¸…ä¸€ä¸‹npm, nodejs, ç»ˆç«¯è¾“å…¥ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">sudo apt remove nodejs npm</div></pre></td></tr></table></figure>
<p>é‡æ–°å®‰è£…ï¼šã€v8æˆ–è€…v9éƒ½å¯ä»¥ï¼Œè¿™é‡Œé€‰æ‹©äº†v8ã€‘</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -</div><div class="line">sudo apt-get install -y nodejs</div></pre></td></tr></table></figure>
<p>è¿™æ—¶ï¼Œå†æ¬¡åœ¨æœ¬åœ°è¿è¡Œ<code>cap production deploy</code>ï¼Œ OKäº†ã€‚</p>
<h4 id="å‚è€ƒï¼š"><a href="#å‚è€ƒï¼š" class="headerlink" title="å‚è€ƒï¼š"></a>å‚è€ƒï¼š</h4><p><a href="https://stackoverflow.com/questions/46360567/error-npm-is-known-not-to-run-on-node-js-v4-2-6" target="_blank" rel="external">Error: npm is known not to run on Node.js V4.2.6</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2018/01/13/download-files-fast-from-baidu-cloud/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/01/13/download-files-fast-from-baidu-cloud/" itemprop="url">
                  Macä¸‹ï¼Œä¸‰æ­¥å®ç°é«˜é€Ÿä¸‹è½½ç™¾åº¦ç½‘ç›˜èµ„æ–™
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2018-01-13T10:10:57+08:00">
                2018-01-13
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Mac/" itemprop="url" rel="index">
                    <span itemprop="name">Mac</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/01/13/download-files-fast-from-baidu-cloud/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/01/13/download-files-fast-from-baidu-cloud/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>æœ€è¿‘åœ¨ç½‘ç›˜ä¸Šä¸‹è½½å¤šä¸ªæ–‡ä»¶èµ„æ–™æ—¶ï¼Œå‘ç°ç‰¹åˆ«å¡ï¼Œæƒ³èµ·ä¹‹å‰çœ‹è¿‡ä¸€ä½å°ä¼™ä¼´å†™çš„å…³äºé«˜é€Ÿä¸‹è½½ç½‘ç›˜èµ„æ–™çš„æ–‡ç« ï¼š<a href="http://hongliang.site/2017/10/18/Mac%E4%B8%8A%E9%AB%98%E9%80%9F%E4%B8%8B%E8%BD%BD%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E8%B5%84%E6%BA%90%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%882%E6%AD%A5%EF%BC%89/" target="_blank" rel="external">Macä¸Šé«˜é€Ÿä¸‹è½½ç™¾åº¦ç½‘ç›˜èµ„æºçš„æ–¹æ³•</a>ï¼Œè¯•äº†ä¸‹ï¼Œæå®šäº†ï¼Œé€Ÿåº¦å¾ˆå¿«ï¼Œå¾ˆæƒŠå–œã€‚</p>
<p>ä¸è¿‡è¯¥æ–‡ç« çš„æ“ä½œä¸­æœ‰ç‚¹å°é—®é¢˜ï¼Œç»™chromeæ·»åŠ æ‰©å±•ç¨‹åºé‚£éƒ¨åˆ†ï¼Œæ˜¯ä¸èƒ½ç›´æ¥å°†æ•´ä¸ªBaiduExporteræ–‡ä»¶æ·»åŠ è¿›å»çš„ï¼Œä¼šæŠ¥é”™ã€‚ã€éš¾é“æ˜¯å› ä¸ºç‰ˆæœ¬æ›´æ–°å¯¼è‡´ï¼Ÿã€‘</p>
<p>æƒ³ç€è¦ä¸æˆ‘ä¹Ÿæ¥å†™ä»½ç®€å•çš„æ“ä½œæ‰‹å†Œï¼Ÿç®—æ˜¯ç°å­¦ç°å–ã€‚</p>
<p><strong>æ•ˆæœï¼š</strong></p>
<p>30Mç½‘é€Ÿï¼Œéä¼šå‘˜æƒ…å†µä¸‹ï¼Œä½¿ç”¨Aria2åï¼Œä¸‹è½½é€Ÿåº¦å¯ä»¥è¾¾åˆ°<strong>5.6MB/s</strong></p>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><ul>
<li><p>ä¸‹è½½Aria2æœ€æ–°ç‰ˆæœ¬ï¼šæˆ³è¿™é‡Œç›´è¾¾<a href="https://github.com/yangshun1029/aria2gui/releases" target="_blank" rel="external">ara2gui</a></p>
<p>ç›®å‰çš„æœ€æ–°ç‰ˆæœ¬æ˜¯1.4ï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fnch8pua6xj30tt0cm3zt.jpg" alt=""></p>
<p>ä¸‹è½½åï¼Œè§£å‹ï¼Œæ‹–åˆ°åº”ç”¨ç¨‹åºä¸­ï¼Œæ‰“å¼€ã€‚</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fnchqtqwiuj30jt03xdgc.jpg" alt=""></p>
</li>
<li><p>ä¸‹è½½BaiduExporterï¼š<a href="https://github.com/acgotaku/BaiduExporter" target="_blank" rel="external">BaiduExporter</a></p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fnchak7wwrj30t30f7juk.jpg" alt=""></p>
</li>
<li><p>ç»™chromeæ·»åŠ æ‰©å±•ç¨‹åºBaiduExporter</p>
<p>è§£å‹ä¸‹è½½å¥½çš„BaiduExporter-masteræ–‡ä»¶ï¼Œæ‰“å¼€chromeï¼Œé€‰æ‹©æ‰©å±•ç¨‹åºï¼Œå°†å…¶æ·»åŠ åˆ°chromeçš„æ‰©å±•ç¨‹åºï¼Œæœ‰ä¸¤ç§æ–¹å¼ï¼š</p>
<ul>
<li>ç›´æ¥å°†æ–‡ä»¶<code>BaiduExporter.crx</code> æ‹–è¿›å»ï¼Œä¼šå¼¹å‡ºæç¤ºæ¡†ï¼Œç¡®è®¤å³å¯</li>
<li>ç‚¹å‡»é€‰æ‹©load unpacked extension, é€‰æ‹©æ–‡ä»¶BaiduExporter-master/chrome/releaseã€‚</li>
</ul>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fncheub8o1j30qi04z75i.jpg" alt=""></p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fnchl40wznj30kf0770u2.jpg" alt=""></p>
<p>â€‹</p>
</li>
</ul>
<p><strong>å¼€å§‹æ„Ÿå—è¿™ä»¤äººæ¬£å–œçš„é€Ÿåº¦ï¼š</strong></p>
<p><strong>è¯·ç¡®ä¿ä½ å·²ç»æ‰“å¼€äº†Aria2</strong></p>
<ul>
<li><p>åœ¨<strong>chromeæµè§ˆå™¨ä¸­ï¼Œæ‰“å¼€ä½ çš„ç™¾åº¦ç½‘ç›˜</strong>ï¼Œé€‰æ‹©éœ€è¦ä¸‹è½½çš„æ–‡ä»¶ï¼Œç‚¹å‡»<strong>å¯¼å‡ºä¸‹è½½-ARIA2 PRC</strong>å³å¯ï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tKfTcgy1fnchuilmc3j30kp067t99.jpg" alt=""></p>
<p>ä¸‹è½½é€Ÿåº¦å¯ä»¥è¾¾åˆ°<strong>5.6MB/s</strong>ï¼Œ å¯¹äºæ²¡æœ‰å¼€ä¼šå‘˜çš„å°ä¼™ä¼´æ¥è¯´ï¼Œè¿˜æ˜¯ç›¸å½“ç»™åŠ›çš„ã€‚</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fndnzcv69pj30lm023jrj.jpg" alt=""></p>
</li>
</ul>
<p>ä¹Ÿå¯ä»¥ä¸ºFirefoxæ·»åŠ æ’ä»¶ï¼Œå®Œæˆä¸‹è½½ï¼Œå…·ä½“å¯å‚è€ƒ<a href="https://github.com/acgotaku/BaiduExporter" target="_blank" rel="external">BaiduExporter</a>ã€‚</p>
<p>Enjoy your downloading process : ï¼‰</p>
<h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="headerlink" title="å‚è€ƒ"></a>å‚è€ƒ</h4><p><a href="http://hongliang.site/2017/10/18/Mac%E4%B8%8A%E9%AB%98%E9%80%9F%E4%B8%8B%E8%BD%BD%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E8%B5%84%E6%BA%90%E7%9A%84%E6%96%B9%E6%B3%95%EF%BC%882%E6%AD%A5%EF%BC%89/" target="_blank" rel="external">Macä¸Šé«˜é€Ÿä¸‹è½½ç™¾åº¦ç½‘ç›˜èµ„æºçš„æ–¹æ³•</a></p>
<p> <a href="https://blog.icehoney.me/posts/2015-01-31-Aria2-download" target="_blank" rel="external">ä½¿ç”¨Aria2ä¸‹è½½ç™¾åº¦ç½‘ç›˜å’Œ115çš„èµ„æº</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Lucia" />
          <p class="site-author-name" itemprop="name">Lucia</p>
           
              <p class="site-description motion-element" itemprop="description">æ›²è‚±è€Œæ•</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">65</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Lupeipei" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/Luciapeipei" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lucia</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://https-lupeipei-github-io.disqus.com/count.js" async></script>
    

    

  




	





  





  





  






  





  

  

  

  

</body>
</html>
