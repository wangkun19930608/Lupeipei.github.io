<!doctype html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.0" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.0" />






<meta name="description" content="Learning is doing">
<meta property="og:type" content="website">
<meta property="og:title" content="Lucia">
<meta property="og:url" content="http://lupeipei.github.io/page/4/index.html">
<meta property="og:site_name" content="Lucia">
<meta property="og:description" content="Learning is doing">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Lucia">
<meta name="twitter:description" content="Learning is doing">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post","b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: 'åšä¸»'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://lupeipei.github.io/page/4/"/>





  <title> Lucia </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  














  
  
    
  

  <div class="container sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Lucia</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            é¦–é¡µ
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            åˆ†ç±»
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            å…³äº
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            å½’æ¡£
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            æ ‡ç­¾
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/18/website-padlock-green-issue/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/18/website-padlock-green-issue/" itemprop="url">
                  ç½‘ç«™åŠ å¯†åï¼Œæ²¡æœ‰æŒ‚ä¸Šå°ç»¿é”?
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-18T18:25:04+08:00">
                2017-10-18
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/18/website-padlock-green-issue/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/18/website-padlock-green-issue/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>åœ¨ç»™è‡ªå·±çš„ç½‘ç«™åŠ å¯†åï¼Œç½‘å€ä»httpå˜æˆhttpsäº†ï¼Œå¯æ˜¯æˆ‘å´å‘ç°ç½‘ç«™æˆäº†è¿™æ ·ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fks9mass87j30ey03x0u2.jpg" alt=""></p>
<p>é¢„æœŸä¸­çš„å®ƒåº”è¯¥æ˜¯é•¿è¿™æ ·å­ğŸ‘‡ï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fks9njubhqj303g00vjr7.jpg" alt=""></p>
<p>ä»”ç»†æ£€æŸ¥äº†Nginxä¸­çš„é…ç½®æ–‡æ¡£ï¼Œæ²¡æœ‰å‘ç°é—®é¢˜ï¼Œæ¨æµ‹ä¸æ˜¯é…ç½®çš„é—®é¢˜ï¼Œé‚£ä¹ˆä¸ºä»€ä¹ˆä¼šè¿™æ ·ï¼Ÿ</p>
<p>ã€BTW, é˜¿é‡Œäº‘æœ‰å…è´¹çš„SSLè¯ä¹¦ï¼Œå¯ä»¥è®©ç½‘ç«™ä»HTTPæ¢æˆHTTPSï¼Œæˆ³è¿™é‡Œç›´è¾¾<a href="https://common-buy.aliyun.com/?spm=5176.2020520163.cas.1.2arDtO&amp;commodityCode=cas#/buy" target="_blank" rel="external">é˜¿é‡Œäº‘</a>ã€‚ã€‘</p>
<p>è¯·ç¡®ä¿ä½ çš„Nginxé…ç½®æ˜¯æ­£ç¡®çš„ï¼Œä¸‹é¢çš„è§£å†³æ€è·¯æ˜¯ä»¥é…ç½®æ— è¯¯ä¸ºå‰æçš„ã€‚</p>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>googleåæ‰¾åˆ°äº†è¿™ç¯‡æ–‡ç« ï¼šã€Googleï¼Œå¤§ç¥ã€‘</p>
<p><a href="https://support.comodo.com/index.php?/Knowledgebase/Article/View/1057/0/why-isnt-my-sites-padlock-green-or-doesnt-have-green-address-bar" target="_blank" rel="external">Why isnâ€™t my Siteâ€™s padlock green or doesnâ€™t have green address bar ?</a></p>
<p>æŒ‰ç…§æ–‡ç« çš„æç¤ºï¼Œè§£å†³äº†é—®é¢˜ï¼Œä»¥chromeä¸ºä¾‹ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>æ‰“å¼€ç½‘ç«™ï¼Œå³å‡»ï¼Œé€‰æ‹©æ£€æŸ¥ï¼ˆinspectï¼‰ï¼Œ</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fks9wu7e2lj30q90ixhcb.jpg" alt=""></p>
<p>ç„¶åé€‰æ‹©securityå®‰å…¨ï¼Œå¯ä»¥çœ‹åˆ°è¿™æ ·çš„é¡µé¢ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fks9sjsqjbj30uc0kz1bn.jpg" alt=""></p>
<p>åœ¨mixed contentä¸­ï¼Œæç¤ºè®©ä½ é‡æ–°åŠ è½½é¡µé¢ï¼ŒOKï¼Œæˆ‘ä»¬reloadä¸€ä¸‹ã€‚</p>
<p>è¿™æ—¶ï¼Œå¯ä»¥å‘ç°mixed contentä¸­å‡ºç°è¿™æ ·çš„é“¾æ¥ï¼š<br><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fksa0let1rj30so0i7aoa.jpg" alt=""></p>
<p>ç‚¹å‡»ï¼ŒæŸ¥çœ‹ï¼š</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fksa0kw4csj30pr0h0dj6.jpg" alt=""></p>
<p>OKï¼Œé—®é¢˜æ‰¾åˆ°äº†ï¼Œæ˜¯å›¾ç‰‡é“¾æ¥ç”¨äº†httpå¯¼è‡´çš„ã€‚</p>
<p>åŸæ¥å› ä¸ºç½‘ç«™ç”¨äº†ä¸ƒç‰›äº‘å­˜å‚¨ï¼Œå›¾ç‰‡çš„é“¾æ¥ä¸ºhttpï¼Œè§£å†³çš„åŠæ³•æ˜¯å»ä¸ƒç‰›ä¹°ä¸ªåŠ é€ŸåŸŸåï¼Œæ¢æˆhttpsâ€¦â€¦</p>
<h4 id="The-End"><a href="#The-End" class="headerlink" title="The End"></a>The End</h4><p>æ¯ä¸ªäººé‡åˆ°çš„æƒ…å†µä¸ä¸€æ ·ï¼Œè¿™é‡Œæˆ‘åªæ˜¯è´´å‡ºæˆ‘æ˜¯å¦‚ä½•æ‰¾åˆ°è§£å†³æ–¹æ³•çš„ï¼Œå¸Œæœ›å¯¹é‡åˆ°äº†åŒæ ·é—®é¢˜çš„å°ä¼™ä¼´æœ‰æ‰€å¸®åŠ©ã€‚<br>Happy coding!</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/15/deploy-with-qiniu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/15/deploy-with-qiniu/" itemprop="url">
                  ä¸ƒç‰›äº‘ç«¯éƒ¨ç½²ï¼Œæƒ³è¯´çˆ±ä½ ä¸å®¹æ˜“
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-15T20:03:17+08:00">
                2017-10-15
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/15/deploy-with-qiniu/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/15/deploy-with-qiniu/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>  å‰æ®µæ—¶é—´ï¼Œç§Ÿäº†é˜¿é‡Œäº‘ï¼Œä¹°äº†åŸŸåï¼Œæœ€è¿‘æŠ˜è…¾äº†ä¸‹ï¼Œç»ˆäºæŠŠä¹‹å‰åšçš„ç½‘ç«™éƒ¨ç½²ä¸Šå»äº†ã€‚</p>
<p>  æ•´ä¸ªéƒ¨ç½²è¿‡ç¨‹ä¸­ï¼Œæ„Ÿè§‰æœ€è™çš„å°±æ˜¯ä¸ƒç‰›äº‘é‚£å—äº†ï¼Œå¯¹äºåŠè·¯å‡ºå®¶çš„æ–°æ‰‹æ¥è¯´ï¼ŒçœŸæ˜¯ä¸ªä¸å°çš„å‘ã€‚è®°å½•ä¸‹è¿™æ®µè™å¿ƒçš„æ—…ç¨‹ã€‚</p>
<hr>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>  æˆ‘ç”¨çš„æ˜¯Capistranoæ¥éƒ¨ç½²Railsé¡¹ç›®ï¼Œè¿™é‡Œåªè®°å½•ä¸€ä¸‹æˆ‘åœ¨è¿œç«¯æœåŠ¡å™¨è¿è¡Œseedæ—¶ï¼Œä¼šå‡ºç°çš„é—®é¢˜ã€‚<br>  å¥½ï¼Œæˆ‘ä»¬å¼€å§‹å§ï¼<br>  å½“ä½ åœ¨ç»ˆç«¯<code>~/yourproject_name/current</code>æ‰§è¡Œ<code>RAILS_ENV=production bundle exec rake db:seed</code>, å¯èƒ½ä¼šå‡ºç°å¦‚ä¸‹æŠ¥é”™ï¼š</p>
<ul>
<li><p><strong>NoMethodErrorï¼š undefined method qiniu_up_host</strong></p>
<p>è¿™ä¸ªæŠ¥é”™å‡ºç°çš„æœ‰äº›å¥‡æ€ªï¼Œæˆ‘åœ¨æœ¬åœ°è¿è¡Œ<code>rake db:seed</code>æ—¶ï¼Œä¹ŸæŠ¥é”™ï¼Œè€Œæˆ‘ä¹‹å‰éƒ¨ç½²åˆ°herokuæ—¶å¹¶æ²¡æœ‰å‡ºç°è¿‡è¿™ç§æƒ…å†µï¼Œä¸è§£ã€‚</p>
<p>è™½ç„¶ä¸ç†è§£å®ƒä¸ºä»€ä¹ˆä¼šå‡ºç°ï¼Œä½†æ˜¯æœ‰é—®é¢˜å’±å°±å¾—æƒ³ç€è§£å†³ï¼Œçœ‹çœ‹æ€ä¹ˆç ´äº†å®ƒã€‚</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fkj51hciw8j30qn069di8.jpg" alt=""></p>
<p><strong>è§£å†³åŠæ³•ï¼š</strong></p>
<p>æ–¹æ³•å¾ˆç²—æš´ã€‚<br>åœ¨æœ¬åœ°çš„<code>config/initializers/carrierwave.rb</code>æ–‡ä»¶ä¸­ï¼Œå°†hosté‚£ä¸€è¡Œç›´æ¥æ³¨é‡Šï¼Œç„¶åè¿è¡Œ<code>rake db:seed</code>ï¼Œ å‘ç°OKå•¦ã€‚</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fkj56rr9y4j30cl06ndgc.jpg" alt=""></p>
<p>ä¸ºä»€ä¹ˆæˆ‘ä¼šæƒ³åˆ°ç›´æ¥æ³¨é‡Šï¼ŸGoogleäº†ä¸‹ï¼Œå‘ç°å¦‚æœä½ çš„æœåŠ¡å™¨åœ¨å›½å†…ï¼Œqiniu_up_hostæ˜¯å¯ä»¥ä¸ç”¨è®¾ç½®çš„ã€‚</p>
<p>å¦å¤–ï¼Œè¿˜æœ‰ä¸€ç§æƒ…å†µæ˜¯config.qiniu_up_hostçš„å€¼å†™é”™äº†ï¼Œä¸åŒçš„å­˜å‚¨åŒºåŸŸæ˜¯ä¸ä¸€æ ·çš„ï¼Œå…·ä½“å¯ä»¥å‚è§<a href="https://developer.qiniu.com/kodo/manual/1671/region-endpoint" target="_blank" rel="external">ä¸ƒç‰›å¼€å‘è€…ä¸­å¿ƒ-å­˜å‚¨åŒºåŸŸ</a>ã€‚</p>
</li>
<li><p><strong>TypeError: no implicit conversion of nil to String</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79gy1fkj032q8itj30l70bctbx.jpg" alt=""></p>
<p>å‡ºç°è¿™ä¸ªæƒ…å†µï¼Œæ˜¯å› ä¸ºæˆ‘ä½¿ç”¨äº†<a href="https://github.com/laserlemon/figaro" target="_blank" rel="external">Figaro</a> ç®¡ç†å¯†ç ï¼Œä¹‹å‰éƒ¨ç½²åˆ°herokuæ—¶ï¼Œç»ˆç«¯è¿è¡Œ<code>figaro heroku:set -e production</code>å°±å¯ä»¥äº†ï¼Œä½†æ˜¯è¿™é‡Œï¼Œæˆ‘ä»¬æ€ä¹ˆæŠŠä¸ƒç‰›å¯¹åº”çš„AccessKeyï¼ŒSecretKeyç­‰ä¿¡æ¯æ”¾å…¥remote serverå‘¢ï¼Ÿ</p>
<p>å…¶å®ï¼Œ<a href="https://github.com/laserlemon/figaro" target="_blank" rel="external">Figaro</a> çš„READMEæ–‡æ¡£ä¸­å·²ç»æåˆ°äº†ï¼Œå’±ä»¬è¿™ä¹ˆæ¥ï¼š</p>
<p>Step1ã€åœ¨è¿œç«¯çš„<code>~/yourproject_name/shared/config</code>ä¸­ï¼Œæ·»åŠ <code>application.yml</code>, å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">production:</div><div class="line">   qiniu_access_key: xxxx  # ä½ çš„ qiniu AccessKey</div><div class="line"></div><div class="line">   qiniu_secret_key: xxxx  # ä½ çš„ qiniu SecretKey</div><div class="line"></div><div class="line">   qiniu_bucket: xxxx  # ä½ çš„ qiniu bucket</div><div class="line"></div><div class="line">   qiniu_bucket_domain: xxxx  # ä½ çš„ qiniu bucket domain</div><div class="line"></div><div class="line"></div><div class="line"></div><div class="line"> development:</div><div class="line">   qiniu_access_key: xxxx  # ä½ çš„ qiniu AccessKey</div><div class="line"></div><div class="line">   qiniu_secret_key: xxxx  # ä½ çš„ qiniu SecretKey</div><div class="line"></div><div class="line">   qiniu_bucket: xxxx  # ä½ çš„ qiniu bucket</div><div class="line"></div><div class="line">   qiniu_bucket_domain: xxxx  # ä½ çš„ qiniu bucket domain</div></pre></td></tr></table></figure>
<p>è¿™é‡Œï¼Œè™½ç„¶æˆ‘ä»¬æ·»åŠ äº†è¿™ä¸ªæ–‡ä»¶ï¼Œä½†æ˜¯ç”±äºä½ çš„<code>config/deploy.rb</code>ä¸­æ²¡æœ‰è®¾ç½®ï¼Œæ‰€ä»¥éƒ¨ç½²çš„æ—¶å€™å¹¶ä¸ä¼šå»è¿æ¥è¿™ä¸ªæ–‡ä»¶ã€‚</p>
<p>Step2ã€åœ¨æœ¬æœºä¸Šç¼–è¾‘<code>config/deploy.rb</code>ï¼Œå°†<code>application.yml</code>æ·»åŠ è¿›å»ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">-  append :linked_files, &quot;config/database.yml&quot;, &quot;config/secrets.yml&quot;</div><div class="line">+  append :linked_files, &quot;config/database.yml&quot;, &quot;config/secrets.yml&quot;, &quot;config/application.yml&quot;</div></pre></td></tr></table></figure>
<p>OKå•¦ï¼è®°å¾—commit å’Œ pushï¼Œå†è¿è¡Œ <code>cap production deploy</code>ï¼Œæœ€ååœ¨è¿œç«¯æœåŠ¡å™¨è¿è¡Œseedã€‚</p>
</li>
<li><p><strong>TypeError: class or module required for rescue clause</strong></p>
<p><img src="https://ws1.sinaimg.cn/large/006tNc79ly1fkj0j8b12pj30oa0bujuv.jpg" alt=""></p>
<p>çœ‹åˆ°æŠ¥é”™ï¼Œç¬¬ä¸€ååº”å°±æ˜¯googleï¼Œåœ¨<a href="https://github.com/huobazi/carrierwave-qiniu/issues/17" target="_blank" rel="external">carrierwave-qiniu configuration error #17</a> ä¸­, æåˆ°<code>qiniu-rs</code>è¿™ä¸ªgemå·²ç»æ²¡æœ‰äººåœ¨ç»´æŠ¤äº†ï¼Œè¦å®‰è£…æœ€æ–°ç‰ˆçš„<code>carrierwave-qiniu</code>ã€‚å¥½ï¼Œé‚£å°±é‡æ–°å®‰è£…ï¼Œåˆä¸æ˜¯ç¬¬ä¸€æ¬¡è¢«ç‰ˆæœ¬å‘äº†: Pã€‚</p>
<p>åœ¨gemfileä¸­åšå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">+ gem &apos;carrierwave-qiniu&apos;, &apos;~&gt; 1.1.5&apos;</div><div class="line"></div><div class="line">- gem &apos;qiniu-rs&apos;</div></pre></td></tr></table></figure>
<p>ç»ˆç«¯è¿è¡Œ<code>bundle install</code>, æŠ¥é”™æ˜¾ç¤ºï¼š</p>
<p><img src="https://ws2.sinaimg.cn/large/006tNc79ly1fkj1s2ugzfj30me0bq76f.jpg" alt=""></p>
<p>æ˜¾ç¤ºæ²¡æœ‰mime-typesï¼ŒæŒ‰ç…§æç¤ºï¼Œè¿è¡Œ<code>bundle update</code>ï¼Œ OKï¼</p>
<hr>
</li>
</ul>
<h4 id="The-end"><a href="#The-end" class="headerlink" title="The end"></a>The end</h4><p><strong>Attentionï¼š</strong></p>
<p>  è¯·åœ¨æ¯æ¬¡ä¿®æ”¹åï¼Œè¿›è¡Œgit commit å’Œ git push ï¼Œç„¶ååœ¨æœ¬åœ°è¿è¡Œ <code>cap production deploy</code>éƒ¨ç½²ï¼ŒCapistrannoä¼šä»GitHubä¸Šæ‹‰ä¸‹æœ€æ–°çš„è¿›åº¦ï¼Œæœ€ååœ¨è¿œç«¯æœåŠ¡å™¨çš„<code>~/yourproject_name/current</code>ç›®å½•ä¸‹ï¼Œè¿è¡Œ<code>RAILS_ENV=production bundle exec rake db:seed</code>ã€‚</p>
<p>  å“¦ï¼Œé™„ä¸Šæˆ‘çš„æˆå“<a href="https://www.togetherisbetter.cn/" target="_blank" rel="external">Together is better</a> : P.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/10/login-server-without-password/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/10/login-server-without-password/" itemprop="url">
                  SSHå…å¯†ç ç™»å½•è¿œç«¯æœåŠ¡å™¨
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-10T08:24:21+08:00">
                2017-10-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index">
                    <span itemprop="name">Linux</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/10/login-server-without-password/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/10/login-server-without-password/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="åä¸ªç³Ÿå…ˆ"><a href="#åä¸ªç³Ÿå…ˆ" class="headerlink" title="åä¸ªç³Ÿå…ˆ"></a>åä¸ªç³Ÿå…ˆ</h4><p>å‰æ®µæ—¶é—´å¼€å§‹å­¦ä¹ Linuxäº‘æœåŠ¡å™¨éƒ¨ç½²è¿ç»´ï¼Œåœ¨å…å¯†ç ç™»å½•é‚£å—å¡äº†å¾ˆä¹…ï¼Œä¸€ç›´æ²¡æ‰¾åˆ°åŸå› ï¼Œåˆ é™¤å®ä¾‹ï¼Œé‡æ–°ç”ŸæˆSSH keyï¼ŒæŠ˜è…¾äº†å‡ æ¬¡ï¼Œæ¯æ¬¡éƒ½ä»¥ä¸ºè¿™æ¬¡æ²¡é—®é¢˜äº†ï¼Œç»“æœç™»å½•çš„æ—¶å€™ï¼Œæ“¦ï¼Œè¿˜æ˜¯è¦æ±‚è¾“å…¥å¯†ç ï¼Œä½ è¯´ç³Ÿå¿ƒä¸ï¼Ÿç´¢æ€§å…ˆææµ…äº†èµ·æ¥ï¼Œå‰å‡ å¤©åˆæ¥æ‰¾è™ï¼Œè¯•äº†ä¸¤æ¬¡ï¼Œç«Ÿç„¶æˆåŠŸç™»å½•äº†ï¼Œå°æ¿€åŠ¨å•Šï¼</p>
<p>è®°å½•ä¸‹å…å¯†ç ç™»å½•çš„æ•´ä¸ªæ“ä½œæµç¨‹ï¼Œåº†ç¥ä¸‹ï¼Œä¹Ÿç»™æ²¡è¸©å‘çš„å‚è€ƒä¸‹ã€‚</p>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>è¿œç«¯ç™»å…¥å¦‚æœæ¯æ¬¡éƒ½è¦è¾“å…¥å¯†ç ï¼Œè¿˜æ˜¯æŒºéº»çƒ¦çš„ï¼Œä¸è¿‡ï¼Œåˆ«æ‹…å¿ƒï¼Œèªæ˜çš„å‰è¾ˆä»¬æ—©å°±æƒ³åˆ°è§£å†³åŠæ³•å•¦ï¼ç”¨éå¯¹ç§°åŠ å¯†çš„æ–¹å¼æ¥å®ç°å…å¯†ç ç™»å½•ã€‚é‚£ï¼Œå…·ä½“æ€ä¹ˆç©ï¼Ÿ</p>
<p><strong>æ­¥éª¤ï¼š</strong></p>
<p>æœºå™¨Aï¼š æœ¬åœ°çš„Mac</p>
<p>æœºå™¨Bï¼š è¿œç«¯LinuxæœåŠ¡å™¨</p>
<p>Step1ã€åœ¨<strong>æœ¬åœ°æœºå™¨A</strong>æ£€æŸ¥æ˜¯å¦å·²ç»ç”Ÿæˆid_rsa.pub</p>
<ul>
<li><p>ç»ˆç«¯è¿è¡Œ<code>cat ~/.ssh/id_rsa.pub</code></p>
<p><img src="https://ws4.sinaimg.cn/large/006tNc79gy1fk9qp21kn2j30lt021gmk.jpg" alt=""></p>
<ul>
<li><p>å¦‚æœå­˜åœ¨è¯¥æ–‡ä»¶ï¼Œç»ˆç«¯è¿è¡Œï¼š<code>ssh-keygen -p</code>, å°†passphraseé‡æ–°è®¾ç½®ä¸ºç©ºï¼Œç›´æ¥æŒ‰Enterå³å¯ï¼Œè¿™ä¸€æ­¥å¾ˆé‡è¦ï¼Œä¸ç„¶çš„è¯ï¼Œå³ä½¿ä½ è®¾ç½®äº†å…å¯†ç ç™»å½•ï¼Œè¿˜æ˜¯è¦æ¯æ¬¡éƒ½è¾“å…¥passphraseæ‰å¯ä»¥ç™»å½•åˆ°è¿œç«¯æœåŠ¡å™¨ã€‚</p>
<p><img src="https://ws3.sinaimg.cn/large/006tNc79gy1fk9qp2mmr8j30gz02t3yy.jpg" alt=""></p>
</li>
<li><p>å¦‚æœä¸å­˜åœ¨è¯¥æ–‡ä»¶ï¼Œéœ€è¦å…ˆç”Ÿæˆï¼Œç»ˆç«¯è¿è¡Œï¼š<code>ssh-keygen -t rsa</code>,  å°±ä¼šç”Ÿæˆå…¬é’¥ <code>~/.ssh/id_rsa.pub</code> ä»¥åŠå¯†é’¥ <code>~/.ssh/id_rsa</code>å•¦ã€‚åŒæ ·çš„ï¼Œä¸€ç›´æŒ‰Enterï¼Œä¸è¦è®¾ç½®passphraseã€‚</p>
</li>
</ul>
</li>
</ul>
<p>Step2ã€åœ¨<strong>æœºå™¨B</strong>æ·»ä¸Šæœ¬åœ°çš„å…¬é’¥</p>
<ul>
<li><p>ç™»å½•è¿œç«¯æœåŠ¡å™¨åï¼Œæ–°å»ºauthorized_keys</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">mkdir ~/.ssh</div><div class="line">touch ~/.ssh/authorized_keys</div></pre></td></tr></table></figure>
</li>
<li><p>å°†å…¬é’¥è´´è¿›è¿œç«¯æœåŠ¡å™¨çš„authorized_keysä¸­</p>
<p>åœ¨Aä¸Šè¿è¡Œï¼š<code>cat ~/.ssh/id_rsa.pub</code>ï¼Œ å¤åˆ¶æœ¬æœºçš„å…¬é’¥</p>
<p>å›åˆ°Bä¸Šï¼Œè¿è¡Œï¼š<code>nano ~/.ssh/authorized_keys</code>, æŠŠå…¬é’¥è´´è¿›å»</p>
</li>
<li><p>è®¾ç½®æœºå™¨Bä¸Šçš„æ–‡ä»¶æƒé™</p>
<p>è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">chmod 700 ~/.ssh</div><div class="line">chmod 644 ~/.ssh/authorized_keys</div></pre></td></tr></table></figure>
<p>æœ‰çš„å‚è€ƒæ–‡æ¡£è¦æ±‚è®¾ç½®æˆ600ï¼Œè¯•äº†ä¸‹ï¼Œ644ï¼Œ600ï¼Œä¿è¯owneræ˜¯å¯è¯»å†™å¯æ‰§è¡Œï¼Œè€Œå…¶ä»–ç”¨æˆ·å’Œç¾¤ç»„çš„æœ€å¤§æƒé™æ˜¯å¯è¯»å³å¯ã€‚</p>
</li>
</ul>
<p>å¯ä»¥äº†ï¼å¾ˆç®€å•æ˜¯ä¸æ˜¯ï¼Ÿè¯•è¯•çœ‹ï¼Œé€€å‡ºé‡æ–°ç™»å½•ä¸‹ï¼Œä¸ç”¨æ•²å¯†ç å•¦ï¼</p>
<h4 id="The-end"><a href="#The-end" class="headerlink" title="The end"></a>The end</h4><p> BTWï¼Œæˆ‘ä¹‹å‰çš„é—®é¢˜æ˜¯passphraseæ²¡æœ‰è®¾ç½®ä¸ºç©ºï¼Œå¦å¤–SSHæ–‡ä»¶å¤åˆ¶æ—¶ä¹Ÿå‡ºé”™ï¼Œåé¢é‡æ–°ç”Ÿæˆæ‰è§£å†³çš„ã€‚</p>
<p>çœ‹äº†ä¸€äº›æœ‰å…³SSHå…ç™»å½•çš„æ“ä½œè¯´æ˜ï¼Œæœ‰ä¸€ç¯‡æŒºå¹²è´§çš„ã€‚æ¨èï¼š</p>
<p><a href="https://my.oschina.net/magicalSam/blog/1466144" target="_blank" rel="external">Macã€Linux ä¸Šå®ç°SSHå…å¯†ç ç™»é™†åˆ°LinuxæœåŠ¡å™¨</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/09/introduction-to-jquery-module3-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/09/introduction-to-jquery-module3-2/" itemprop="url">
                  Introduction to jQuery_5
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-09T12:16:09+08:00">
                2017-10-09
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/09/introduction-to-jquery-module3-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/09/introduction-to-jquery-module3-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Before-Start"><a href="#Before-Start" class="headerlink" title="Before Start"></a>Before Start</h4><p>The following contents are the notes I took when learning  jQuery on Edx.</p>
<p>Mainly for  front-End Web developers, check <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">here</a> to get more details.</p>
<h4 id="CONTENTS"><a href="#CONTENTS" class="headerlink" title="CONTENTS"></a>CONTENTS</h4><p>Three parts:</p>
<ul>
<li><a href="https://lupeipei.github.io/2017/10/05/introduction-to-jQuery-module1/">Adding jQuery to web pages</a></li>
<li><a href="https://lupeipei.github.io/2017/10/06/introduction-to-jquery-module2-1/">Managing content, events and effects</a></li>
<li>Asynchronous operations and Ajax calls</li>
</ul>
<h4 id="Module3-Asynchronous-programming-and-Ajax"><a href="#Module3-Asynchronous-programming-and-Ajax" class="headerlink" title="Module3 : Asynchronous programming and Ajax"></a>Module3 : Asynchronous programming and Ajax</h4><p>Module3 includes five parts:</p>
<ul>
<li>Using promises</li>
<li>Web workers</li>
<li>Using deferred</li>
<li>JavaScript Object Notation</li>
<li>Calling the server</li>
</ul>
<p>Letâ€™s get to know something about JSON and Ajax.</p>
<ul>
<li><p>JavaScript Object Notation</p>
<ul>
<li><p>JSON syntax</p>
<p>A JSON object uses a notation thatâ€™s similar to that of a JavaScript object.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">//create a JavaScript object</div><div class="line">var person = &#123;</div><div class="line">    firstName: &apos;Christopher&apos;,</div><div class="line">    lastName: &apos;Harrison&apos;</div><div class="line">&#125;</div><div class="line"></div><div class="line">//create a JSON object</div><div class="line">var person = &#123;</div><div class="line">    &apos;firstName&apos;: &apos;Christopher&apos;,</div><div class="line">    &apos;lastName&apos;: &apos;Harrison&apos;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Create a more complex object:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var person = &#123;</div><div class="line">    &apos;firstName&apos;: &apos;Christopher&apos;,</div><div class="line">    &apos;lastName&apos;: &apos;Harrison&apos;,</div><div class="line">    &apos;email&apos;: &#123;</div><div class="line">        &apos;address&apos;: &apos;charrison@adventure-works.com&apos;,</div><div class="line">        &apos;type&apos;: &apos;business&apos;</div><div class="line">    &#125;    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Create a object with array:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">var person = &#123;</div><div class="line">    &apos;firstName&apos;: &apos;Christopher&apos;,</div><div class="line">    &apos;lastName&apos;: &apos;Harrison&apos;,</div><div class="line">    &apos;emailAddresses&apos;: [</div><div class="line">        &#123;</div><div class="line">            &apos;address&apos;: &apos;charrison@adventure-works.com&apos;,</div><div class="line">            &apos;type&apos;: &apos;business&apos;</div><div class="line">        &#125;,</div><div class="line">        &#123;</div><div class="line">            &apos;address&apos;: &apos;charrison@fineartschool.net&apos;,</div><div class="line">            &apos;type&apos;: &apos;home&apos;</div><div class="line">        &#125;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>Serializing objects</p>
<p>JavaScript provides a native utility for <strong>converting objects to JSON</strong> (serializing), and <strong>converting JSON strings to objects</strong> (deserializing).</p>
<ul>
<li><p>Serializing an object:<code>JSON.stringify</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// Create an instance of Object, a basic JavaScript object</div><div class="line">var person = new Object();</div><div class="line"></div><div class="line">// add properties</div><div class="line">person.firstName = &apos;Christopher&apos;;</div><div class="line">person.lastName = &apos;Harrison&apos;;</div><div class="line"></div><div class="line">// serialize</div><div class="line">var jsonString = JSON.stringify(person);</div></pre></td></tr></table></figure>
</li>
<li><p>Deserializing JSON: <code>JSON.parse</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// Deserialize a JSON string</div><div class="line">var newPerson = JSON.parse(jsonString);</div><div class="line"></div><div class="line">// access properties as normal</div><div class="line">$(&apos;#first-name-display&apos;).text(newPerson.firstName);</div><div class="line">$(&apos;#last-name-display&apos;).text(newPerson.lastName);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Calling the server</p>
<ul>
<li><p>Introducing Ajax</p>
<p>Typically, when we make a call to the server, we need to refresh the entire page.</p>
<p>as developers, weâ€™d like to be able to incorporate server-side resources into our pages, allowing us to <strong>update individual portions of the page with new data, rather than updating the entire page</strong>.</p>
<ul>
<li><p>Asynchronous JavaScript and XML (Ajax)</p>
<p>Ajax is a set of technologies that act together to make it easier for developers to make calls to server resources from JavaScript.</p>
</li>
<li><p>Basic data retrieval</p>
<p><code>get</code> : The most basic Ajax operation we can perform using jQuery.</p>
<p> <code>get</code> contacts the <strong>URL</strong> we provide, and passes the string the server returns into the parameter weâ€™ll use for our event handler.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$.get(</div><div class="line">    &apos;some-url&apos;, // The URL to call</div><div class="line">    function(data) &#123; // Success event handler</div><div class="line">        // The data parameter contains the string</div><div class="line">        $(&apos;#output&apos;).text(data);</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
<li><p>jQuery Ajax and promises</p>
<p>All jQuery Ajax calls return a jQuery <strong>promise</strong>.</p>
<p> So, you can use <code>done</code> for your success event handler, and <code>fail</code> to catch any errors. The two code samples perform the same operations.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Option one (pass the success function as a parameter)</div><div class="line">$.get(&apos;some-url&apos;, function(data) &#123; $(&apos;#output&apos;).text(data); &#125;);</div><div class="line"></div><div class="line">// Option two (use the done function of the promise)</div><div class="line">$.get(&apos;some-url&apos;).done(function(data) &#123; $(&apos;#output&apos;).text(data); &#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Retrieving JSON objects</p>
<ul>
<li><p><code>getJSON</code></p>
<p>To retrieve a JSON object, you can use <code>getJSON</code>.</p>
<p><code>getJSON</code> accepts several parameters, but the most common two that youâ€™ll provide are the URL you need to call, and an event handler for success.</p>
<p>Because getJSON is expecting JSON data, it automatically deserializes the object, meaning you do not need to call JSON.parse.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">$.getJSON(&apos;/api/Demo&apos;, function (person) &#123;</div><div class="line">	$(&apos;#first-name&apos;).val(person.firstName);</div><div class="line">	$(&apos;#last-name&apos;).val(person.lastName);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Making server calls</p>
<p>If youâ€™re new to making server calls through JavaScript or other technologies, you might have a few questions about <strong>how youâ€™re supposed to know where the data is, what URLs you should use</strong>, etc.</p>
<ul>
<li><p>Finding the right URL</p>
<p>Most commonly youâ€™ll be calling your own server and accessing your own organizationâ€™s data.</p>
<p>Then the answer becomes even easier:</p>
<p>talk to the developer who created the server side code that you need to call. They can provide all of the information you need.</p>
</li>
<li><p>Verbs</p>
<p>HTTP offers several â€œverbsâ€, with the two most common being GET and POST.</p>
<p>GET and POST in HTTP terms are about how to <strong>send data</strong> to the server, not a determination of the server sending you data.</p>
<p>GET limits us to <strong>sending data in the URL only</strong>.</p>
<p>POST on the other hand allows us to <strong>send data</strong> <strong>both in the URL, but also in whatâ€™s known as the header</strong>.The header is information thatâ€™s sent behind the scenes from the client to the server, and can be used to send almost any type of data, including binary data.</p>
</li>
<li><p>HTTP and REST APIs</p>
<p> HTTP provides several verbs, including GET, POST, PUT and DELETE.</p>
<p>GET will retrieve objects,</p>
<p>POST will create a new object,</p>
<p>PUT will update an existing object,</p>
<p>DELETE will delete an object.</p>
<p>Building upon those common operations, the W3C has established a specification called <a href="https://en.wikipedia.org/wiki/Representational_state_transfer" target="_blank" rel="external">REST</a>. REST provides for various standards to provide even more consistency when making server calls.</p>
</li>
</ul>
</li>
<li><p>Posting data</p>
<p>If the service youâ€™re using follows standard REST practices, youâ€™ll notice that you can create a new object by calling POST.</p>
<p>Or, if youâ€™re trying to upload a binary object, such as an image, youâ€™re forced to use POST, as GET wonâ€™t allow that type of data to be uploaded.</p>
<ul>
<li><p><code>post</code></p>
<p>Like getJSON, it also passes the JSON object returned by the server into the parameter for the event handler. And, just like all of the Ajax calls weâ€™ve seen, <code>post</code> also returns a promise.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">// get the data we need to send</div><div class="line">var person = &#123; firstName: &apos;Christopher&apos;, lastName: &apos;Harrison&apos; &#125;;</div><div class="line"></div><div class="line">// Call POST</div><div class="line"></div><div class="line">$.post(&apos;URL&apos;, // Pass in the URL you need to access</div><div class="line">    person, // Pass in the data to send via POST</div><div class="line">    function(data) &#123;</div><div class="line">        // success event handler</div><div class="line">        // parameter contains value returned by server</div><div class="line">    &#125;</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Ajax events</p>
<ul>
<li><p>Start events</p>
<p>The two starting events are <code>ajaxStart</code> and <code>ajaxSend</code>.</p>
<p><code>ajaxStart</code> is raised when the <strong>first</strong> Ajax call is being made.</p>
<p><code>ajaxSend</code> is raised <strong>each time</strong> an Ajax call is made.</p>
</li>
<li><p>Completion events</p>
<p>jQuery Ajax offers two main events when each Ajax call is finished, <code>ajaxSuccess</code>, which is raised when a call succeeds,</p>
<p><code>ajaxError</code>, which is raised when a call fails.</p>
<p><code>ajaxComplete</code> is raised when <strong>each</strong> Ajax call completes, regardless of success or failure.</p>
<p> <code>ajaxStop</code> is raised when <strong>all</strong> calls are completed.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$(document).ajaxSend(function () &#123;</div><div class="line">	// raised when a call starts</div><div class="line">	$(&apos;#status&apos;).append(&apos;&lt;div&gt;Call started&lt;/div&gt;&apos;);</div><div class="line">&#125;).ajaxComplete(function () &#123;</div><div class="line">	// raised when a call completes</div><div class="line">	$(&apos;#status&apos;).append(&apos;&lt;div&gt;Call completed&lt;/div&gt;&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Dynamically loading data</p>
<ul>
<li><p>Loading HTML</p>
<p><code>load</code> will call the URL provided, obtain the HTML, and place it in the targeted item.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;#target&apos;).load(&apos;some-url.html&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>Loading and executing JavaScript</p>
<p><code>getScript</code>  downloads <strong>and executes</strong> the script when itâ€™s called.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$.getScript(&apos;some-url.js&apos;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>This is  Module3 all about. More <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">details</a>.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/08/introduction-to-jquery-module3-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/08/introduction-to-jquery-module3-1/" itemprop="url">
                  Introduction to jQuery_4
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-08T17:48:50+08:00">
                2017-10-08
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/08/introduction-to-jquery-module3-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/08/introduction-to-jquery-module3-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Before-Start"><a href="#Before-Start" class="headerlink" title="Before Start"></a>Before Start</h4><p>The following contents are the notes I took when learning  jQuery on Edx.</p>
<p>Mainly for  front-End Web developers, check <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">here</a> to get more details.</p>
<h4 id="CONTENTS"><a href="#CONTENTS" class="headerlink" title="CONTENTS"></a>CONTENTS</h4><p>Three parts:</p>
<ul>
<li><a href="https://lupeipei.github.io/2017/10/05/introduction-to-jQuery-module1/">Adding jQuery to web pages</a></li>
<li><a href="https://lupeipei.github.io/2017/10/06/introduction-to-jquery-module2-1/">Managing content, events and effects</a></li>
<li>Asynchronous operations and Ajax calls</li>
</ul>
<h4 id="Module3-Asynchronous-programming-and-Ajax"><a href="#Module3-Asynchronous-programming-and-Ajax" class="headerlink" title="Module3 : Asynchronous programming and Ajax"></a>Module3 : Asynchronous programming and Ajax</h4><p>Module3 includes five parts:</p>
<ul>
<li>Using promises</li>
<li>Web workers</li>
<li>Using deferred</li>
<li>JavaScript Object Notation</li>
<li>Calling the server</li>
</ul>
<p>Uh, When I first learned it , I felt it was a little difficult for me to get the point, and now, I still have the feeling.</p>
<p>Letâ€™s get to know something about the first three parts.</p>
<p><strong>A promise</strong> is an object returned by functions in jQuery that take a long or variable amount of time. By using a promise, you can ensure your code executes whenever the operation completes, be notified of its success or failure, or potentially receive updates about an operationâ€™s progress.</p>
<p><strong>A deferred object</strong> allows you to create your own long running operations, allowing developers to use the same patterns provided by the promise object, and be updated when your operation completes.</p>
<p> <strong>web worker</strong>, an HTML5 feature allowing web developers to simulate threads in a web browser.</p>
<ul>
<li><p>promises</p>
<ul>
<li><p>Long running operations</p>
<p>Any jQuery function that runs over a long period of time, such as an animation, or communicates with a remote server, such as Ajax calls, returns a <strong>promise</strong>.</p>
</li>
<li><p>promises events</p>
<ul>
<li><p><code>done</code></p>
<p>raised when the operation completes successfully.</p>
<p>accepts one or more event handler functions.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// code to obtain promise object</div><div class="line">promise.done(function(data) &#123;</div><div class="line">	// data will contain the data returned by the operation</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>fail</code></p>
<p>raised when the operation has completed with an error.</p>
<p>accepts one or more event handler functions.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// code to obtain promise object</div><div class="line">promise.fail(function(data) &#123;</div><div class="line">	// data will contain the data returned by the operation</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>progress</code></p>
<p>raised when the operation raises an alert about its current state.</p>
<p>Not all operations raise <code>progress</code> events.</p>
<p>accepts one or more event handler functions.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// code to obtain promise object</div><div class="line">promise.progress(function(data) &#123;</div><div class="line">	// data will contain the data returned by the operation</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>Chaining</p>
<p>add <code>done</code> and <code>fail</code> (and potentially <code>progress</code>) event handlers by chaining the method calls as demonstrated below :</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// code to obtain promise object</div><div class="line">promise.done(function(data) &#123;</div><div class="line">	// success</div><div class="line">&#125;).fail(function(data) &#123;</div><div class="line">	// failure</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>then</code></p>
<p>a single function allowing you to register <code>done</code>, <code>fail</code>, and <code>progress</code> event handlers in one call.</p>
<p>The sample below is identical to the chaining demonstration above.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// code to obtain promise object</div><div class="line">promise.then(function(data) &#123;</div><div class="line">    // success</div><div class="line">&#125;, function(data) &#123;</div><div class="line">    // failure</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Web workers</p>
<ul>
<li><p>Creating a web worker</p>
<p>made up of two components:</p>
<blockquote>
<p> the parent or calling script, and the worker or executing script.</p>
</blockquote>
<p><strong>does not</strong> have direct access to the calling environment or the UI.</p>
<p>use a messaging system to pass information to and from the worker.</p>
<ul>
<li><p>Creating the worker script</p>
<p>To create a web worker, you create a separate JavaScript file.</p>
<p>The code in the file <strong>will execute immediately</strong> when the worker object is created from the calling script.</p>
<p><code>self</code> : represents the worker. <code>self</code> , has one function named  <code>postMessage</code> and one event <code>message</code>.</p>
<p><code>postMessage</code>  is used to send data to the calling environment.</p>
<p><code>message</code> is raised when the calling script has sent a message to the worker.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">// send a signal back to the calling script</div><div class="line">self.postMessage(&apos;hello from the worker!&apos;);</div><div class="line"></div><div class="line">// Receive a message from the calling environment</div><div class="line">self.addEventListener(&apos;message&apos;, function(e) &#123;</div><div class="line">    // the data property will contain the data passed from the calling script</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>calling a web worker</p>
<ul>
<li><p>calling a web worker</p>
<p>to check to see if the brower supports web workers</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// Test if the browser supports web workers</div><div class="line">if(Worker == null) &#123;</div><div class="line">	alert(&apos;You need to upgrade your browser!&apos;);</div><div class="line">&#125; else &#123;</div><div class="line">	// do your work here</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>creating an instance of the Worker object</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">var worker = new Worker(&apos;script-location.js&apos;);</div><div class="line"></div><div class="line">// Register event handler</div><div class="line">worker.addEventListener(&apos;message&apos;, function(e) &#123;</div><div class="line">    $(&apos;#output&apos;).append(&apos;&lt;li&gt;&apos; + e.data + &apos;&lt;/li&gt;&apos;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">worker.postMessage(&apos;Started!&apos;);</div></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
</li>
<li><p>Designing your web workers</p>
<ul>
<li><p>creating a web worker that accepts status messages</p>
<p>Code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line">// worker.js</div><div class="line"></div><div class="line">self.addEventListener(&apos;message&apos;, function(e) &#123;</div><div class="line">	if(e.data === &apos;START&apos;) &#123;</div><div class="line">		// Start message received.</div><div class="line">		// Begin work</div><div class="line">		startWork();</div><div class="line">	&#125; else if (e.data === &apos;STOP&apos;) &#123;</div><div class="line">		// Stop message received.</div><div class="line">		// Perform cleanup and terminate</div><div class="line">		stopWork();</div><div class="line">	&#125; else &#123;</div><div class="line">		// A different message has been received</div><div class="line">		// This is data that needs to be acted upon</div><div class="line">		processData(e.data);</div><div class="line">	&#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">function startWork() &#123;</div><div class="line">	// code to start performing work here</div><div class="line">	// send a message to the calling page</div><div class="line">	// worker has started</div><div class="line">	self.postMessage(&apos;STARTED&apos;);</div><div class="line">&#125;</div><div class="line"></div><div class="line">function stopWork() &#123;</div><div class="line">	// cleanupp code here</div><div class="line">	// stop the worker</div><div class="line">	self.postMessage(&apos;STOPPED&apos;);</div><div class="line">	self.close();</div><div class="line">&#125;</div><div class="line"></div><div class="line">function processData(data) &#123;</div><div class="line">	// perform the work on the data</div><div class="line">	self.postMessage(&apos;Processed &apos; + data);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>calling a web worker that accepts messages</p>
<p>If you were using the worker thatâ€™s been designed above, you would use it by following a couple of basic steps.</p>
<ol>
<li>Create an instance of <code>Worker</code>, passing in the script.</li>
<li>Add the event handler for the <code>message</code> event. Ensure the event handler can respond to the status messages and normal data.</li>
<li>When youâ€™re ready to start the workerâ€™s work, call <code>postMessage(&#39;START&#39;);</code></li>
<li>When youâ€™re done, send the stop message by calling <code>postMessage(&#39;STOP&#39;);</code></li>
</ol>
<p>Code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">// inside of HTML file</div><div class="line"></div><div class="line">var worker = new Worker(&apos;worker.js&apos;);</div><div class="line"></div><div class="line">worker.addEventListener(&apos;message&apos;, function(e) &#123;</div><div class="line">    if(e.data === &apos;STARTED&apos;) &#123;</div><div class="line">        // worker has been started</div><div class="line">        // sample: update the screen to display worker started</div><div class="line">        $(&apos;#output&apos;).append(&apos;&lt;div&gt;Worker started&lt;/div&gt;&apos;);</div><div class="line">    &#125; else if(e.data === &apos;STOPPED&apos;) &#123;</div><div class="line">        // worker has been stopped</div><div class="line">        // cleanup work (if needed)</div><div class="line">        // sample: update the screen to display worker stopped</div><div class="line">        $(&apos;#output&apos;).append(&apos;&lt;div&gt;Worker stopped&lt;/div&gt;&apos;);</div><div class="line">    &#125; else &#123;</div><div class="line">        // Normal message. Act upon data as needed</div><div class="line">        // Sample: display data on screen</div><div class="line">        $(&apos;#output&apos;).append(&apos;&lt;div&gt;&apos; + e.data + &apos;&lt;/div&gt;&apos;);</div><div class="line">    &#125;</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// When you&apos;re ready, send the start message</div><div class="line">worker.postMessage(&apos;START&apos;);</div><div class="line"></div><div class="line">// Send data as needed</div><div class="line">worker.postMessage(&apos;sample data&apos;);</div><div class="line"></div><div class="line">// Stop worker when you&apos;re done</div><div class="line">worker.postMessage(&apos;STOP&apos;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p>Using deferred</p>
<ul>
<li><p>Deferred</p>
<p><code>Deferred</code> and <code>promise</code> seem very similar.The difference between the two is who uses which.</p>
<p><code>Deferred</code> is used to create, and manage, a <code>promise</code> object.</p>
<p>A <code>promise</code> object is returned by a long running operation, and only allows you to register event handlers.</p>
<p><code>Deferred</code> is the <strong>server</strong> side.  When <strong>create</strong> a long running function that will be called by other developers, youâ€™ll use <code>Deferred</code>to return a <code>promise</code>.</p>
<p><code>promise</code> is the <strong>client</strong> side. When you <strong>call</strong> a long running function, it will return a <code>promise</code>.</p>
</li>
<li><p>When to use Deferred</p>
<p>when you are creating a function that will <strong>take an unusual amount of time</strong>, say one that will be working with graphics, you will want to use <code>Deffered</code> to return a <code>promise</code> to the caller.</p>
</li>
<li><p>Breaking down using Deferred</p>
<p>The basic steps are as follows.</p>
<ol>
<li>Create an instance of deferred: var deferred = $.Deferred();</li>
<li>Start your asynchronous operation, typically using a worker</li>
<li>Add the appropriate code to detect success and send the success signal: deferred.resolve()</li>
<li>Add the appropriate code to detect failure and send the failure signal: deferred.reject()</li>
<li>Return the promise: return deferred.promise();</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line">function beginProcessing() &#123;</div><div class="line">	// Create deferred object &amp; make sure it&apos;s going to be in scope</div><div class="line">	var deferred = new $.Deferred();</div><div class="line"></div><div class="line">	// Create our worker (just like before)</div><div class="line">	var worker = new Worker(&apos;./Scripts/deferred.js&apos;);</div><div class="line"></div><div class="line">	// Register the message event handler</div><div class="line">	worker.addEventListener(&apos;message&apos;, function (e) &#123;</div><div class="line">		// simple messaging - if the worker is ready it&apos;ll send a message with READY as the text</div><div class="line">		if (e.data === &apos;READY&apos;) &#123;</div><div class="line">			// No UI code</div><div class="line">			// Progress notification</div><div class="line">			deferred.notify(&apos;Worker started&apos;);</div><div class="line">		&#125; else if(e.data === &apos;COMPLETED&apos;) &#123;</div><div class="line">			// processing is done</div><div class="line">			// No UI code</div><div class="line">			// Completed notification</div><div class="line">			deferred.resolve(&apos;Worker completed&apos;);</div><div class="line"></div><div class="line">			worker.terminate();</div><div class="line">		&#125;</div><div class="line">	&#125;);</div><div class="line"></div><div class="line">	return deferred.promise();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<hr>
<p>  å­¦è¿™ä¸€ç« çš„æ—¶å€™ï¼Œä½œä¸ºä¸€ä¸ªå‰ç«¯å°ç™½ï¼Œæˆ‘çš„å†…å¿ƒå“èµ·ä¸€ä¸ªå£°éŸ³ï¼šå°¼ç›è¿™éƒ½æ˜¯ä»€ä¹ˆé¬¼ï¼Ÿ</p>
<p>  è¯´äººè¯,é™„ä¸Šæˆ‘å¯¹è¿™ä¸‰ä¸ªæ¦‚å¿µçš„ç†è§£ï¼š</p>
<p>  æ¬¢è¿æ‹ç –ï¼Œçš®åšä¸æ€•ç–¼ï¼šP</p>
<p>  promiseæ˜¯ä¸€ä¸ªéœ€è¦è¿è¡Œå¾ˆé•¿æ—¶é—´çš„jQueryå‡½æ•°ä¼šè¿”å›çš„ä¸œä¸œï¼Œå‘Šè¯‰callerï¼Œå‡½æ•°çš„è¿è¡ŒçŠ¶æ€ï¼Œcallerå¯ä»¥æ ¹æ®çŠ¶æ€æ¥æ‰§è¡Œç›¸åº”ä»£ç ã€‚</p>
<p>  Workeræ˜¯ç”¨æ¥åœ¨è¿›ç¨‹ä¸­æ’ä¸€è„šçš„ä¸œä¸œï¼Œé€šè¿‡messageæ¥ä¼ é€’çŠ¶æ€ï¼Œä»€ä¹ˆæ—¶å€™å¼€å§‹è¿è¡Œworker scriptï¼Œä»€ä¹ˆæ—¶å€™ç»“æŸã€‚</p>
<p>  Deferredå‘¢ï¼Ÿç”¨æ¥ç”Ÿæˆï¼Œç®¡ç†promiseã€‚</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/07/introduction-to-jquery-module2-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/07/introduction-to-jquery-module2-2/" itemprop="url">
                  Introduction to jQuery_3
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-07T06:34:37+08:00">
                2017-10-07
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/07/introduction-to-jquery-module2-2/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/07/introduction-to-jquery-module2-2/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Before-Start"><a href="#Before-Start" class="headerlink" title="Before Start"></a>Before Start</h4><p>The following contents are the notes I took when learning  jQuery on Edx.</p>
<p>Mainly for  front-End Web developers, check <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">here</a> to get more details.</p>
<h4 id="CONTENTS"><a href="#CONTENTS" class="headerlink" title="CONTENTS"></a>CONTENTS</h4><p>Three parts:</p>
<ul>
<li><a href="https://lupeipei.github.io/2017/10/05/introduction-to-jQuery-module1/">Adding jQuery to web pages</a></li>
<li>Managing content, events and effects</li>
<li><a href="https://lupeipei.github.io/2017/10/08/introduction-to-jquery-module3-1/">Asynchronous operations and Ajax calls</a></li>
</ul>
<h4 id="Module2-Managing-content-events-and-effects"><a href="#Module2-Managing-content-events-and-effects" class="headerlink" title="Module2 : Managing content, events and effects"></a>Module2 : Managing content, events and effects</h4><p>Module2 includes six parts:</p>
<ul>
<li>Event handlers</li>
<li>Modifying elements</li>
<li>Registering event handlers</li>
<li>Adding new elements</li>
<li>Animations</li>
<li>Removing, replacing and cloning</li>
</ul>
<p>Letâ€™s get to know something about the last three parts of Module2.</p>
<ul>
<li><p><strong>Adding new elements</strong></p>
<ul>
<li><p>Internal DOM manipulation</p>
<p><code>append</code>, <code>appendTo</code>, <code>prepend</code> and <code>prependTo</code>.</p>
<p>Remember that the element you target will become the <strong>container</strong> for the new element. So using <code>append</code> will add a new element <strong>inside</strong> the target, not after the element.</p>
<ul>
<li><p><code>prepend</code> and <code>prependTo</code></p>
<p>Add new content to the <strong>begining</strong> of the contents of a target.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//executed either of the lines of JavaScript below</div><div class="line">// prepend is called on the target, and accepts the new content as the parameter</div><div class="line">$(&apos;#target&apos;).prepend(&apos;&lt;div&gt;New content&lt;/div&gt;&apos;);</div><div class="line"></div><div class="line">//or you can use prependTo</div><div class="line">// prependTo is called on the new content, and accepts the target as the parameter</div><div class="line">$(&apos;&lt;div&gt;New content&lt;/div&gt;&apos;).prependTo(&apos;#target&apos;);</div><div class="line"></div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;New content&lt;/div&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p><code>append</code> and <code>appendTo</code></p>
<p>Add new content to the <strong>end</strong> of the contents of a target.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//executed either of the lines of JavaScript below</div><div class="line">// append is called on the target, and accepts the new content as the parameter</div><div class="line">$(&apos;#target&apos;).append(&apos;&lt;div&gt;New content&lt;/div&gt;&apos;);</div><div class="line"></div><div class="line">// appendTo is called on the new content, and accepts the target as the parameter</div><div class="line">$(&apos;&lt;div&gt;New content&lt;/div&gt;&apos;).appendTo(&apos;#target&apos;);</div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">	&lt;div&gt;New content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>External DOM manipulation</p>
<p><code>after</code>, <code>insertAfter</code>, <code>before</code>, and <code>insertBefore</code></p>
<ul>
<li><p><code>after</code> and <code>insertAfter</code></p>
<p>Add new content after the target.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//executed either of the lines of JavaScript below</div><div class="line">// after is called on the target, and accepts the new content as a parameter</div><div class="line">$(&apos;target&apos;).after(&apos; New content&apos;);</div><div class="line"></div><div class="line">// insertAfter is called on the new content, and accepts the target as a parameter</div><div class="line">$(&apos; New content&apos;).insertAfter(&apos;#target&apos;);</div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line">&lt;div&gt;New content&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p><code>before</code> and <code>insertBefore</code></p>
<p>Add new content before the target.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//executed either of the lines of JavaScript below</div><div class="line">// before is called on the target, and accepts the new content as a parameter</div><div class="line">$(&apos;target&apos;).before(&apos;New content&apos;);</div><div class="line"></div><div class="line">// insertBefore is called on the new content, and accepts the target as a parameter</div><div class="line">$(&apos;New content&apos;).insertBefore(&apos;#target&apos;);</div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div&gt;New content&lt;/div&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div&gt;existing content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Wrapping content</p>
<p>To manipulate the DOM by surrounding existing content with a new element.</p>
<ul>
<li><p><code>wrap</code></p>
<p>wraps <strong>each item</strong> with the element passed into the function.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div class=&quot;demo&quot;&gt;Item one&lt;/div&gt;</div><div class="line">	&lt;div class=&quot;demo&quot;&gt;Item two&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(&apos;.demo&apos;).wrap(&apos;&lt;section&gt;&lt;/section&gt;&apos;);</div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;section&gt;</div><div class="line">		&lt;div class=&quot;demo&quot;&gt;Item one&lt;/div&gt;</div><div class="line">	&lt;/section&gt;</div><div class="line">	&lt;section&gt;</div><div class="line">		&lt;div class=&quot;demo&quot;&gt;Item two&lt;/div&gt;</div><div class="line">	&lt;/section&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p><code>wrapAll</code></p>
<p> returned content with one new element.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div class=&quot;demo&quot;&gt;Item one&lt;/div&gt;</div><div class="line">	&lt;div class=&quot;demo&quot;&gt;Item two&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(&apos;.demo&apos;).wrapAll(&apos;&lt;section&gt;&lt;/section&gt;&apos;);</div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;section&gt;</div><div class="line">		&lt;div class=&quot;demo&quot;&gt;Item one&lt;/div&gt;</div><div class="line">		&lt;div class=&quot;demo&quot;&gt;Item two&lt;/div&gt;</div><div class="line">	&lt;/section&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p><code>wrapInner</code></p>
<p>Operates on the children of the target, rather than on the target itself.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;div class=&quot;demo&quot;&gt;Item one&lt;/div&gt;</div><div class="line">	&lt;div class=&quot;demo&quot;&gt;Item two&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(&apos;#target&apos;).wrapInner(&apos;&lt;section&gt;&lt;/section&gt;&apos;);</div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">	&lt;section&gt;</div><div class="line">		&lt;div&gt;Item one&lt;/div&gt;</div><div class="line">		&lt;div&gt;Item two&lt;/div&gt;</div><div class="line">	&lt;/section&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Animations</strong></p>
<ul>
<li><p><code>hide</code>, <code>show</code>, <code>toggle</code></p>
<p><code>hide</code> causes something to disappear from the screen;</p>
<p><code>show</code> causes something to appear;</p>
<p><code>toggle</code>, on the other hand, determines the current status of the item in question and changes it.</p>
<p> jQuery controls visibility by using the <code>display</code> property in CSS.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">&lt;!-- HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;Show or hide&lt;/div&gt;</div><div class="line">&lt;button type=&quot;button&quot; id=&quot;btn-toggle&quot;&gt;Toggle&lt;/button&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(function() &#123;</div><div class="line">	$(&apos;#btn-toggle&apos;).click(function() &#123;</div><div class="line">		// animation will take one second</div><div class="line">		$(&apos;#target&apos;).toggle(1000);</div><div class="line">	&#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>More:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line">&lt;!-- HTML --&gt;</div><div class="line">&lt;style&gt;</div><div class="line">    .hidden &#123; display: none; &#125;</div><div class="line">&lt;/style&gt;</div><div class="line">&lt;form&gt;</div><div class="line">    &lt;div&gt;</div><div class="line">        &lt;label&gt;Name:&lt;/label&gt;</div><div class="line">        &lt;input type=&quot;text&quot; /&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">    &lt;button type=&quot;button&quot; id=&quot;show-additional-information&quot;&gt;</div><div class="line">        Show additional information</div><div class="line">    &lt;/button&gt;</div><div class="line">    &lt;div id=&quot;additional-information&quot; class=&quot;hidden&quot;&gt;</div><div class="line">        &lt;label&gt;Additional information:&lt;/label&gt;</div><div class="line">        &lt;input type=&quot;text&quot; /&gt;</div><div class="line">    &lt;/div&gt;</div><div class="line">&lt;/form&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(function() &#123;</div><div class="line">    $(&apos;#show-additional-information&apos;).click(function() &#123;</div><div class="line">        $(&apos;#additional-information&apos;).show(750);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>fading and sliding</p>
<ul>
<li><p><code>fadeIn</code>, <code>fadeOut</code>, <code>fadeToggle</code></p>
<p>The fading functions perform their work by both modifying the CSS <code>display</code> property, and animates the item by modifying its <code>opacity</code>.</p>
<p><code>fadeIn</code> and <code>fadeOut</code> will display and hide an item respectively.</p>
<p><code>fadeToggle</code> will reverse the current state of the item.</p>
</li>
<li><p><code>slideDown</code>, <code>slideUp</code> , <code>slideToggle</code></p>
<p>The sliding functions perform their work by both modifying the CSS <code>display</code> property, and animates the item by modifying its <code>position</code>.</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Removing, replacing and cloning</strong></p>
<ul>
<li><p>Removing and replacing items</p>
<ul>
<li><p><code>remove</code> and <code>empty</code></p>
<p>Both completely delete items from the DOM.</p>
<p> <code>remove</code> deletes the item you target.</p>
<p> <code>empty</code> deletes the contents of the item you target.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">    &lt;div&gt;Some cool content&lt;/div&gt;</div><div class="line">    &lt;div&gt;Some more cool content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">//the resulting HTML would be, well, nothing. The entire contents of the sample are removed</div><div class="line">$(function() &#123;</div><div class="line">	$(&apos;#target&apos;).remove();</div><div class="line">&#125;</div><div class="line"></div><div class="line">//deletes the contents of the target, so the resulting HTML would be as &lt;div id=&quot;target&quot;&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">$(function() &#123;</div><div class="line">	$(&apos;#target&apos;).empty();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><code>replaceAll</code> and <code>replaceWith</code></p>
<p> replace existing content with new content.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!-- starting HTML --&gt;</div><div class="line">&lt;div id=&quot;target&quot;&gt;</div><div class="line">    &lt;div&gt;Some cool content&lt;/div&gt;</div><div class="line">    &lt;div&gt;Some more cool content&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//JS. execute either of them</div><div class="line">// replaceWith replaces the content on the left with the new content in the parameter</div><div class="line">$(&apos;#target&apos;).replaceWith(&apos;&lt;div&gt;NEW content&lt;/div&gt;&apos;);</div><div class="line"></div><div class="line">// replaceAll replaces the target in the parameter with the content on the left</div><div class="line">$(&apos;&lt;div&gt;NEW content&lt;/div&gt;&apos;).replaceAll(&apos;#target&apos;);</div><div class="line"></div><div class="line">&lt;!-- ending HTML --&gt;</div><div class="line">&lt;div&gt;NEW content&lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Cloning</p>
<ul>
<li><code>clone</code></li>
</ul>
<p><code>clone</code> allows you to make a copy of jQuery objects.</p>
<p>Letâ€™s say you were building a page to allow an administrator to create email addresses and passwords. Youâ€™d like to ensure the administrator can create as many accounts as they would like on one page, and be able to send up all of the information to the server <strong>in one round trip</strong>, rather than using Ajax calls or submitting the form for each account.</p>
<p>code:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;!-- HTML --&gt;</div><div class="line">&lt;button type=&quot;button&quot; id=&quot;add-line&quot;&gt;Add new line&lt;/button&gt;</div><div class="line">&lt;div id=&quot;container&quot;&gt;</div><div class="line">	&lt;div class=&quot;user-entry&quot;&gt;</div><div class="line">		&lt;label&gt;Email:&lt;/label&gt;</div><div class="line">		&lt;input type=&quot;email&quot; /&gt;</div><div class="line">		&lt;label&gt;Password:&lt;/label&gt;</div><div class="line">		&lt;input type=&quot;password&quot; /&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line"> $(function() &#123;</div><div class="line"> 	$userForm = $(&apos;.user-entry&apos;).clone;</div><div class="line">	$(&apos;#add-line&apos;).click(function() &#123;</div><div class="line">		$(&apos;#container&apos;).append($userForm.clone());</div><div class="line">	&#125;);</div><div class="line"> &#125;);</div></pre></td></tr></table></figure>
<p><strong>Attention:</strong></p>
<p>When youâ€™re working with an object, JavaScript passes a reference to the object, not a copy of the object. This would mean that weâ€™ve added in a pointer to the clone we created earlier, <strong>not</strong> a brand new copy. The end result is that if we did not call <code>clone()</code> a second time, weâ€™d be trying to add <strong>the exact same object</strong> into the container again, <strong>not</strong> a brand new copy. By calling <code>clone()</code> again, we pass in a copy of our user form, rather than a pointer to the one we already used.</p>
<ul>
<li><p>Cloning and animations</p>
<p>Combinnig cloning and animations.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">&lt;!-- HTML --&gt;</div><div class="line">&lt;button type=&quot;button&quot; id=&quot;add-line&quot;&gt;Add new line&lt;/button&gt;</div><div class="line">&lt;div id=&quot;container&quot;&gt;</div><div class="line">  &lt;div class=&quot;user-entry&quot;&gt;</div><div class="line">    &lt;label&gt;Email:&lt;/label&gt;</div><div class="line">    &lt;input type=&quot;email&quot; /&gt;</div><div class="line">    &lt;label&gt;Password:&lt;/label&gt;</div><div class="line">    &lt;input type=&quot;password&quot; /&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(function() &#123;</div><div class="line">    $userForm = $(&apos;.user-entry&apos;).clone();</div><div class="line">    $userForm.css(&apos;display&apos;, &apos;none&apos;);</div><div class="line">    $(&apos;#add-line&apos;).click(function() &#123;</div><div class="line">        var newUserForm = $userForm.clone();</div><div class="line">        $(&apos;#container&apos;).append($newUserForm);</div><div class="line">        newUserForm.show(1000);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>This is  Module2 all about. More <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">details</a>.</p>
</li>
</ul>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/06/introduction-to-jquery-module2-1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/06/introduction-to-jquery-module2-1/" itemprop="url">
                  Introduction to jQuery_2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-06T08:32:55+08:00">
                2017-10-06
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/06/introduction-to-jquery-module2-1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/06/introduction-to-jquery-module2-1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Before-Start"><a href="#Before-Start" class="headerlink" title="Before Start"></a>Before Start</h4><p>The following contents are the notes I took when learning  jQuery on Edx.</p>
<p>Mainly for  front-End Web developers, check <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">here</a> to get more details.</p>
<h4 id="CONTENTS"><a href="#CONTENTS" class="headerlink" title="CONTENTS"></a>CONTENTS</h4><p>Three parts:</p>
<ul>
<li><a href="https://lupeipei.github.io/2017/10/05/introduction-to-jQuery-module1/">Adding jQuery to web pages</a></li>
<li>Managing content, events and effects</li>
<li><a href="https://lupeipei.github.io/2017/10/08/introduction-to-jquery-module3-1/">Asynchronous operations and Ajax calls</a></li>
</ul>
<h4 id="Module2-Managing-content-events-and-effects"><a href="#Module2-Managing-content-events-and-effects" class="headerlink" title="Module2 : Managing content, events and effects"></a>Module2 : Managing content, events and effects</h4><p>Module2 includes six parts:</p>
<ul>
<li>Event handlers</li>
<li>Modifying elements</li>
<li>Registering event handlers</li>
<li>Adding new elements</li>
<li>Animations</li>
<li>Removing, replacing and cloning</li>
</ul>
<p>Letâ€™s get to know something about the first three parts.</p>
<ul>
<li><p><strong>Event handlers</strong></p>
<p>Event object:</p>
<blockquote>
<p>Beyond just the object that raised the event, jQuery (and JavaScript) also pass an <code>event</code> object to the event handler.</p>
<p>This object can be used to determine additional information, such as where the mouse was when the user performed the operation.</p>
</blockquote>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">// Write out the x/y coordinates of the mouse on click</div><div class="line">$(&apos;button&apos;).click(function(e) &#123;</div><div class="line">    $(&apos;#output&apos;).text(e.pageX + &apos;x&apos; + e.pageY);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<ul>
<li><p><code>Click</code></p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;#target&apos;).click(function() &#123; alert(&apos;hello, world!&apos;); &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>dbclick</code></p>
<p> raised when the user double clicks on an element.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;#target&apos;).dbclick(function()&#123; alert(&apos;hello, world!&apos;); &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>Forms : blur, change, focus</p>
<ul>
<li><p><code>blur</code></p>
<p>raised when a form element loses whatâ€™s known as focus. often used for validation.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(&apos;#target&apos;).blur(function() &#123;</div><div class="line">    // retrieve the value using val</div><div class="line">    var value = $(&apos;#target&apos;).val();</div><div class="line">    alert(value);</div><div class="line">&#125;)</div></pre></td></tr></table></figure>
</li>
<li><p><code>change</code></p>
<p>raised whenever an element is modified.<strong>limited</strong> to <code>input</code>, <code>textarea</code> and <code>select</code> elements only.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">$(function() &#123;</div><div class="line">  $(&apos;#parent&apos;).change(function() &#123;</div><div class="line">    var value = $(&apos;#parent&apos;).val();</div><div class="line">    $(&apos;#child&apos;).empty();</div><div class="line">    $(&apos;#child&apos;).append(&apos;&lt;option&gt;1 - &apos; + value + &apos;&lt;/option&gt;&apos;);</div><div class="line">    $(&apos;#child&apos;).append(&apos;&lt;option&gt;2 - &apos; + value + &apos;&lt;/option&gt;&apos;);</div><div class="line">  &#125;)</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>focus</code></p>
<p>the opposite of <code>blur</code>. raised when the user clicks, taps, or tabs into a particular control, typically because they want to change its value.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;!-- sample HTML --&gt;</div><div class="line">&lt;div&gt;</div><div class="line">    &lt;label for=&quot;phone&quot;&gt;Phone&lt;/label&gt;</div><div class="line">    &lt;input type=&quot;text&quot; id=&quot;phone&quot; /&gt;</div><div class="line">    &lt;span id=&quot;phone-help&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">// sample JavaScript</div><div class="line">$(&apos;#phone&apos;).focus(function() &#123;</div><div class="line">    // Control has focus. Display help</div><div class="line">    $(&apos;#phone-help&apos;).text(&apos;Please enter your phone number as all digits&apos;);</div><div class="line">&#125;).blur(function() &#123;</div><div class="line">    // Control lost focus. Clear help</div><div class="line">    $(&apos;#phone-help&apos;).text(&apos;&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Mouse movement</p>
<ul>
<li><p><code>mouseenter</code>, <code>mouseleave</code></p>
<p><code>mouseenter</code> is raised whenever the user moves their mouse over an element.</p>
<p><code>mouseleave</code> is raised when the user moves their mouse away from an element.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">&lt;!-- sample HTML --&gt;</div><div class="line">&lt;div&gt;</div><div class="line">	&lt;span id=&quot;target&quot;&gt;Basic data&lt;/span&gt;</div><div class="line">	&lt;span id=&quot;target-help&quot;&gt;&lt;/span&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line">// sample JavaScript</div><div class="line">$(&apos;#target&apos;).mouseenter(function() &#123;</div><div class="line">	$(&apos;#target-help&apos;).text(&apos;More data&apos;);</div><div class="line">&#125;).mouseleave(function() &#123;</div><div class="line">	$(&apos;#target-help&apos;).text(&apos;&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>hover</code></p>
<p>equivalent to both the <code>mouseenter</code> and <code>mouseleave</code> events. The first parameter <code>hover</code> accepts is for <code>mouseenter</code>, or when the hover begins, and the second parameter is for <code>mouseout</code>.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">$(&apos;#target&apos;).hover(function() &#123;</div><div class="line">	// mouseenter</div><div class="line">	$(&apos;#target-help&apos;).text(&apos;More data&apos;);</div><div class="line">&#125;, function() &#123;</div><div class="line">	// mouseleave</div><div class="line">	$(&apos;#target-help&apos;).text(&apos;&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Modifying elements</strong></p>
<ul>
<li><p>Replacing element HTML and text</p>
<ul>
<li><p><code>val</code></p>
<p>for read the value, like to say retrieve the value of an input control, you can use <code>val()</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">var value = $(&apos;#some-input-control&apos;).val();</div></pre></td></tr></table></figure>
<p>also, you can set the value. use <code>val(new-value)</code></p>
<p>Example: set a textbox to a blank value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// Empty a textbox</div><div class="line">$(&apos;#some-textbox&apos;).val(&apos;&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>html</code></p>
<p>you have saw it in Module1.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// write text out to the screen</div><div class="line">// this will be displayed as</div><div class="line">// &lt;strong&gt;value&lt;/strong&gt;</div><div class="line">// the text value will not be bolded</div><div class="line"></div><div class="line">$(&apos;#output&apos;).text(&apos;value&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p><code>text</code></p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// write text out to the screen</div><div class="line">// this will be displayed as value</div><div class="line">// with the word bolded</div><div class="line"></div><div class="line">$(&apos;#output&apos;).html(&apos;value&apos;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Working with attribute and classes</p>
<ul>
<li><p><code>attr</code></p>
<p>To retrieve the value of an attribute, simply call <code>attr(name)</code>.</p>
<p>To change the value of an attribute, simply call <code>attr(name, newValue)</code>.</p>
</li>
<li><p><code>addClass</code> and <code>removeClass</code></p>
<p>You have known it in Module1. Besides, one nice thing about <code>removeClass</code> is it will not throw an error if the class doesnâ€™t exist.</p>
</li>
</ul>
</li>
<li><p>Working with styles</p>
<ul>
<li><p><code>css</code></p>
<p>To retrieve the value of a CSS property,  call <code>css(property)</code>.</p>
<p>To set a property, call <code>css(property, newValue)</code></p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// Retrieve an item&apos;s color</div><div class="line">var color = $(&apos;#target&apos;).css(&apos;color&apos;);</div><div class="line"></div><div class="line">// Change an item&apos;s color to red</div><div class="line">$(&apos;#target&apos;).css(&apos;color&apos;, &apos;red&apos;);</div></pre></td></tr></table></figure>
<p>To set multiple properties,  create a JavaScript object with the property/value pairs, and then pass the object into the <code>css</code> function.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">var style = &#123;</div><div class="line">	color: &apos;red&apos;,</div><div class="line">	backgroundColor: yellow</div><div class="line">&#125;;</div><div class="line"></div><div class="line">$(&apos;#target&apos;).css(style);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Registering event handlers</strong></p>
<ul>
<li><p>Dynamic event handlers</p>
<ul>
<li><p><code>on</code>, <code>off</code></p>
<p>Both <code>on</code> and <code>off</code> share the same syntax:</p>
<p><code>$(&#39;selector&#39;).on/off(&#39;events&#39;, &#39;selector (optional)&#39;, function)</code></p>
<p>Here, <code>events</code>: A space separated list of the events you wish to register, such as <code>&#39;click&#39;</code> or <code>&#39;click mouseenter&#39;</code></p>
<p> BTW, Obviously if you need to <strong>dynamically choose the event</strong>, or if you need <strong>multiple events for the same event handler</strong>, using <code>on</code> is your only choice.</p>
<p>In additon, <code>on</code> offers one more feature, known as delegation.</p>
</li>
</ul>
</li>
<li><p>Delegation</p>
<p>Registering an event handler using <code>delegate</code>,  is similar to <code>on</code>, with one major difference: New elements will automatically have the event handler applied.</p>
<p>The <code>delegate</code> syntax:</p>
<p><code>$(selector).delegate(selector, events, eventHandler)</code></p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">&lt;!-- sample HTML --&gt;</div><div class="line">&lt;button&gt;Click&lt;/button&gt;</div><div class="line">&lt;div id=&quot;placeholder&quot;&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(function() &#123;</div><div class="line">	// document.ready (on load)</div><div class="line"></div><div class="line">	// register a click event handler with all button elements, except new button</div><div class="line">	//$(&apos;button&apos;).click(function() &#123; alert(&apos;hello&apos;); &#125;);</div><div class="line">	// new button will also be raised</div><div class="line">	$(document).delegate(&apos;button&apos;, &apos;click&apos;, function() &#123; alert(&apos;hello&apos;); &#125;);</div><div class="line"></div><div class="line">	// create a new button</div><div class="line">	$(&apos;#placeholder&apos;).html(&apos;&lt;button&gt;New button&lt;/button&gt;&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>With jQuery 1.7, <code>delegate</code> is superseded by <code>on</code>.</p>
<p><strong>One important thing to note</strong> is the order of parameters for <code>on</code> and <code>delegate</code>.</p>
<p>With <code>on</code>, you list the events first and the selector second. With <code>delegate</code>, itâ€™s selector followed by events.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">// Delegation (note the order of parameters)</div><div class="line">$(document).on(&apos;click&apos;, &apos;button&apos;, function() &#123;alert(&apos;hello&apos;); &#125;);</div><div class="line"></div><div class="line">// Semantically the same as above</div><div class="line">// (note the order of parameters)</div><div class="line">$(document).delegate(&apos;button&apos;, &apos;click&apos;, function() &#123; alert(&apos;hello&apos;); &#125;);</div></pre></td></tr></table></figure>
</li>
<li><p>Single execution</p>
<ul>
<li><p><code>one</code></p>
<p><code>one</code> shares a similar syntax with <code>on</code>, only there is no delegation option.</p>
<p>The event only execute once.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">&lt;!-- sample HTML --&gt;</div><div class="line">&lt;button id=&quot;single&quot;&gt;This only works once&lt;/button&gt;</div><div class="line">&lt;div id=&quot;output&quot;&gt;&lt;/div&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(function() &#123;</div><div class="line">    $(&apos;#single&apos;).one(&apos;click&apos;, function() &#123;</div><div class="line">        $(&apos;#output&apos;).text(&apos;You clicked on the button&apos;);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Triggering events</p>
<p>Raise the event programatically, like to click on a button to refresh data.</p>
<p><code>trigger</code> and <code>triggerHandler</code> allow you to provide the name of the event as a parameter.</p>
<p><code>trigger</code> will execute for <strong>all elements</strong> in the collection,</p>
<p>while <code>triggerHandler</code> only executes the handler for <strong>the first element</strong>.</p>
<p>Example:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">&lt;!-- sample HTML --&gt;</div><div class="line">&lt;button type=&quot;button&quot; id=&quot;first&quot;&gt;First button&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; id=&quot;Second&quot;&gt;Second button&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; id=&quot;trigger&quot;&gt;trigger&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; id=&quot;trigger-handler&quot;&gt;triggerHandler&lt;/button&gt;</div><div class="line"></div><div class="line">//JS</div><div class="line">$(function() &#123;</div><div class="line">    $(&apos;button&apos;).click(function() &#123;</div><div class="line">        // display the id of the button</div><div class="line">        alert(this.id);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    $(&apos;#trigger&apos;).click(function() &#123;</div><div class="line">        // Would alert every button&apos;s id</div><div class="line">        // including the last two</div><div class="line">        $(&apos;button&apos;).trigger(&apos;click&apos;);</div><div class="line">    &#125;);</div><div class="line"></div><div class="line">    // Would alert &quot;first&quot;</div><div class="line">    $(&apos;#trigger-handler&apos;).click(function() &#123;</div><div class="line">        // Would alert &quot;first&quot;</div><div class="line">        $(&apos;button&apos;).triggerHandler(&apos;click&apos;);</div><div class="line">    &#125;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p>This is the first three parts of Module2 all about. More <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">details</a>.</p>
</li>
</ul>
</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/05/introduction-to-jQuery-module1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/05/introduction-to-jQuery-module1/" itemprop="url">
                  Introduction to jQuery_1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-05T10:17:44+08:00">
                2017-10-05
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Web/" itemprop="url" rel="index">
                    <span itemprop="name">Web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/05/introduction-to-jQuery-module1/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/05/introduction-to-jQuery-module1/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="Before-Start"><a href="#Before-Start" class="headerlink" title="Before Start"></a>Before Start</h4><p>The following contents are the notes I took when learning  jQuery on Edx.</p>
<p>Mainly for  front-End Web developers, check <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">here</a> to get more details.</p>
<p>BTW, This class is supported by Microsoft. If you are a Linux fan, hope it would not make you uncomfortable( cause I am a little uncomfortable about it at first.) : D</p>
<h4 id="CONTENTS"><a href="#CONTENTS" class="headerlink" title="CONTENTS"></a>CONTENTS</h4><p>Three parts:</p>
<ul>
<li>Adding jQuery to web pages</li>
<li><a href="https://lupeipei.github.io/2017/10/06/introduction-to-jquery-module2-1/">Managing content, events and effects</a></li>
<li><a href="https://lupeipei.github.io/2017/10/08/introduction-to-jquery-module3-1/">Asynchronous operations and Ajax calls</a></li>
</ul>
<p>DOM: Document Object Model.</p>
<p>jQuery : the most popular javaScript library. designed to bring additional power to JS.</p>
<p>Letâ€™s start!</p>
<h4 id="Module1-Adding-jQuery-to-web-pages"><a href="#Module1-Adding-jQuery-to-web-pages" class="headerlink" title="Module1 : Adding jQuery to web pages"></a>Module1 : Adding jQuery to web pages</h4><ul>
<li><p><strong>Getting started with jQuery</strong></p>
<ul>
<li>use Visual Studio</li>
<li>getting started with <a href="https://code.visualstudio.com" target="_blank" rel="external">Visual Studio Code</a></li>
</ul>
</li>
<li><p><strong>Adding jQuery to a page</strong></p>
<p> a simple example to start:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">// you can use either of them:</div><div class="line"></div><div class="line">$(document).ready(function() &#123;</div><div class="line">	// code here</div><div class="line">&#125;);</div><div class="line"></div><div class="line">$(function() &#123;</div><div class="line">	// code here</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Using CSS selectors with jQuery</strong></p>
<ul>
<li><p>Common CSS selectors</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">$(&apos;h1&apos;) // selects all h1 elements</div><div class="line">$(&apos;.class-name&apos;) // selects all elements with a class of class-name</div><div class="line">$(&apos;#demo&apos;) // selects all elements with an id of demo</div></pre></td></tr></table></figure>
</li>
<li><p>Attribute based selectors</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// selects all elements with an attribute matching the specified value</div><div class="line">$(&apos;[demo-attribute=&quot;demo-value&quot;]&apos;)</div><div class="line"></div><div class="line">// selects all h1 elements with an attribute matching the specified value</div><div class="line">$(&apos;h1[demo-attribute=&quot;demo-value&quot;]&apos;)</div><div class="line"></div><div class="line">// If you wish to find all elements where the value **starts** with a string, use the ^= operator.</div><div class="line">$(&apos;[class^=&quot;col&quot;]&apos;)</div><div class="line"></div><div class="line">// If you wish to find all elements where the value **contains** a string, use the *= operator.</div><div class="line">$(&apos;[class*=&quot;md&quot;]&apos;)</div></pre></td></tr></table></figure>
</li>
<li><p>Positional selectors</p>
<ul>
<li><p><strong>Parent/child relationships</strong></p>
<p>Consider the following script:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// Selects all a elements that are direct descendants nav element</div><div class="line">$(&apos;nav &gt; a&apos;)</div></pre></td></tr></table></figure>
<p>In the following HTML, the first link would be selected, but not the second. This is because the first link is a <strong>direct child</strong>, but the second is inside of a <code>div</code>element.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">&lt;nav&gt;</div><div class="line">	&lt;a href=&quot;#&quot;&gt;(First) This will be selected&lt;/a&gt;</div><div class="line">	&lt;div&gt;</div><div class="line">		&lt;a href=&quot;#&quot;&gt;(Second) This will not be selected&lt;/a&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">&lt;/nav&gt;</div></pre></td></tr></table></figure>
</li>
<li><p><strong>Descendants</strong></p>
<p>Examples:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// Selects all a elements that are descendants nav element</div><div class="line">// The elements can appear anywhere inside of the element listed first</div><div class="line">$(&apos;nav a&apos;)</div><div class="line"></div><div class="line">//this is an example to show the difference,if you use $(&apos;nav a&apos;), the first and the second will be selected both, if you use $(&apos;nav &gt; a&apos;), only the first one will be selected.</div><div class="line">&lt;nav&gt;</div><div class="line">	&lt;a href=&quot;#&quot;&gt;(First) This will be selected&lt;/a&gt;</div><div class="line">	&lt;div&gt;</div><div class="line">		&lt;a href=&quot;#&quot;&gt;(Second) This will be selected&lt;/a&gt;</div><div class="line">	&lt;/div&gt;</div><div class="line">&lt;/nav&gt;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Navigating the DOM with jQuery</strong></p>
<ul>
<li><p>Parent /child relationships</p>
<p>Four methods: <code>children</code> ,<code>find</code>, <code>parent</code>, <code>parents</code></p>
<ul>
<li>with<code>children</code>, itâ€™s gonna be just the direct children.</li>
<li><code>find</code> will walk the entire hierarchy down, but it needs a selector.</li>
<li><code>parent</code> will be the immediate parent.</li>
<li>And <code>parents</code>, plural, will walk up the entire chain.</li>
</ul>
</li>
<li><p>Siblings</p>
<ul>
<li><p><code>prev</code> and <code>next</code></p>
<blockquote>
<p><code>prev()</code>: To move to the prior element</p>
<p><code>next()</code>: To move to the next element</p>
</blockquote>
</li>
<li><p><code>prevAll</code> and <code>nextAll</code></p>
<blockquote>
<p><code>prevAll</code> and <code>nextAll</code> will select all siblings prior or after the element. Both methods also accept a CSS selector to limit the items.</p>
</blockquote>
</li>
<li><p><code>prevUntil</code> and <code>nextUntil</code></p>
<blockquote>
<p><code>prevUntil</code> and <code>nextUntil</code> select all prior or following elements up to, but <strong>not including</strong> the element that matches the selector.</p>
</blockquote>
</li>
</ul>
</li>
<li><p>Selecting items by position</p>
<ul>
<li><p>Finding the index of an item</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">//index method will return the zero based (ordinal) location of the item, or -1 if the item isn&apos;t found.</div><div class="line"></div><div class="line">var currentElement = $(&apos;some selector&apos;);</div><div class="line">var parent = $(&apos;some selector&apos;);</div><div class="line">var index = parent.children().index(currentElement);</div></pre></td></tr></table></figure>
</li>
<li><p>Finding an item by its position</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">//using the get method</div><div class="line">var parent = $(&apos;some selector&apos;);</div><div class="line">var element = parent.children().get(index);</div></pre></td></tr></table></figure>
<p>One important note about <code>get</code> is it returns a JavaScript DOM object, <strong>not</strong> a jQuery object.</p>
<p>In order to call jQuery methods on the object, you must convert it to a jQuery object.</p>
<p>Examples below:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">var parent = $(&apos;some selector&apos;);</div><div class="line">var domobject = parent.children().get(index); // DOM object</div><div class="line">var jQueryObject = $(parent.children().get(index)); // jQuery object</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>Getting started with DOM manipulation</strong></p>
<ul>
<li><p>Adding and removing classes</p>
<ul>
<li><p>Adding a class to an element is just as easy as calling <code>addClass</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">currentElement.addClass(&apos;class-name&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>Removing a class from an element is just as easy as calling <code>removeClass</code>. If the element in question was not already decorated with the class youâ€™re trying to remove, the method will simply return.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">currentElement.removeClass(&apos;class-name&apos;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Working with attributes</p>
<ul>
<li><p>reading an attribute value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">alert($(&apos;selector&apos;).attr(&apos;attribute-name&apos;));</div></pre></td></tr></table></figure>
</li>
<li><p>modifying an attribute value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;selector&apos;).attr(&apos;attribute-name&apos;, &apos;new value&apos;);</div></pre></td></tr></table></figure>
</li>
<li><p>removing an attribute value</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&apos;selector&apos;).removeAttr(&apos;attribute-name&apos;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>Modifying content</p>
<ul>
<li><p><code>text()</code>: get to replace the existing text in an element</p>
</li>
<li><p><code>html()</code>: get to replace the existing HTML in an element</p>
</li>
<li><p>the different between <code>text()</code>  and <code>html()</code> is whether or not itâ€™s gonna allow for HTML.</p>
<p>Examples:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// update the text</div><div class="line">$(item).text(&apos;&lt;h1&gt;Hello, world!!&lt;/h1&gt;&apos;); //output: &lt;h1&gt;Hello, world!!&lt;/h1&gt;</div><div class="line"></div><div class="line">// update the html</div><div class="line">$(item).text(&apos;&lt;h1&gt;Hello, world!!&lt;/h1&gt;&apos;);//output: Hello, world!!</div></pre></td></tr></table></figure>
<p>you can say that HTML will allow you to modify HTML, Text is going to be for text only.</p>
</li>
</ul>
</li>
<li><p>Basic event handlers</p>
<p>like click event, more details in <a href="https://lupeipei.github.io/2017/10/06/introduction-to-jquery-module2-1/">Module 2</a></p>
<p>Inside of the event handler code, you can access the object that raised the event by using <code>this</code>.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">//examples</div><div class="line">//click event</div><div class="line">//raised when the item is clicked</div><div class="line">$(item).click(function() &#123;</div><div class="line">    alert(&apos;clicked!!&apos;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// hover event</div><div class="line">// raised when the user moves their mouse over the item</div><div class="line">$(item).hover(function() &#123;</div><div class="line">    alert(&apos;hover!!&apos;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">// mouseout</div><div class="line">// raised when the user moves their mouse away from an item</div><div class="line">$(item).mouseout(function() &#123;</div><div class="line">    alert(&apos;mouse out&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
</ul>
<p>This is Module1 all about. More <a href="https://courses.edx.org/courses/course-v1:Microsoft+DEV208x+4T2017/course/" target="_blank" rel="external">details</a>.</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/04/web-together-build-8/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/04/web-together-build-8/" itemprop="url">
                  Togetherç½‘ç«™æ­å»ºä¹‹è¸©å‘ç³»åˆ—8
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-04T06:55:40+08:00">
                2017-10-04
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/04/web-together-build-8/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/04/web-together-build-8/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>è¿™æ˜¯åŠŸèƒ½å®ç°çš„ç¬¬ä¸ƒç¯‡ï¼Œæ‰¯ä¸€æ‰¯<strong>å¦‚ä½•åœ¨ä¸ªäººä¸­å¿ƒå®ä½œå¯†ç ä¿®æ”¹</strong>.</p>
<p>å®Œæ•´ä½œå“æºç åŠæ•ˆæœï¼Œçœ‹è¿™é‡Œ<a href="https://togetherisbetter.cn/" target="_blank" rel="external">ä½œå“ç½‘ç«™</a>,   <a href="https://github.com/Lupeipei/Together" target="_blank" rel="external">ä½œå“æºç </a>ã€‚</p>
<h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><ul>
<li><a href="https://lupeipei.github.io/2017/09/28/web-together-build-2/">ç»™æ´»åŠ¨æ·»åŠ æ”¶è—åŠŸèƒ½ï¼Œå¹¶ä½¿ç”¨Ajaxè¿›è¡Œä¼˜åŒ–</a></li>
<li><a href="https://lupeipei.github.io/2017/09/29/web-together-build-3/">ç»™æ´»åŠ¨Eventsæ·»åŠ åˆ†ç±»ç­›é€‰</a></li>
<li><a href="https://lupeipei.github.io/2017/09/30/web-together-build-4/">æ·»åŠ çœå¸‚è‡ªæ²»åŒºåœ°å€, å¹¶å®ç°çƒ­é—¨åŸå¸‚ç­›é€‰</a></li>
<li><a href="https://lupeipei.github.io/2017/10/01/web-together-build-5/">æ·»åŠ æ—¶é—´ç­›é€‰</a></li>
<li><a href="https://lupeipei.github.io/2017/10/02/web-together-build-6/">æ·»åŠ è¯„è®ºåŒºï¼Œå¹¶ä½¿ç”¨ajaxä¼˜åŒ–</a></li>
<li><a href="https://lupeipei.github.io/2017/10/03/web-together-build-7/">å®ä½œæ´»åŠ¨ç”³è¯·</a></li>
<li>åœ¨ä¸ªäººä¸­å¿ƒå®ä½œå¯†ç ä¿®æ”¹</li>
</ul>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>è¿™é‡Œä¿®æ”¹ç”¨æˆ·åå’Œå¤´åƒç®€å•å¸¦è¿‡ï¼Œæˆ‘ä»¬ä¸“æ³¨äº<strong>å¯†ç ä¿®æ”¹</strong>ã€‚</p>
<p>æ¥åŠ¨åŠ¨æˆ‘ä»¬ç†Ÿæ‚‰çš„deviseã€‚</p>
<p>å…ˆçœ‹æ•ˆæœï¼Œåœ¨ä¸ªäººä¸­å¿ƒæ·»åŠ å¯†ç ä¿®æ”¹æ¿å—ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcly1fk1dhibubej30wx0j4dip.jpg" alt=""></p>
<p>å…·ä½“æ­¥éª¤ï¼š</p>
<ul>
<li><p>ç»ˆç«¯è¿è¡Œï¼š<code>rails g controller account::users</code></p>
</li>
<li><p>åœ¨<code>app/controllers/account/users_controller.eb</code>ä¸­ï¼Œä»…æœ‰å¤´åƒå’Œç”¨æˆ·åçš„updateï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">class Account::UsersController &lt; ApplicationController</div><div class="line">  before_action :authenticate_user!</div><div class="line"></div><div class="line">  def index</div><div class="line">    @user = current_user</div><div class="line">  end</div><div class="line"></div><div class="line">  def show</div><div class="line">    @user = current_user</div><div class="line">  end</div><div class="line"></div><div class="line">  def edit</div><div class="line">    @user = current_user</div><div class="line">  end</div><div class="line"></div><div class="line">  def update</div><div class="line">    @user = current_user</div><div class="line">    if @user.update(user_params)</div><div class="line">      redirect_to account_user_path, notice: &quot;ä¿¡æ¯æ›´æ–°æˆåŠŸ&quot;</div><div class="line">    else</div><div class="line">      render :edit</div><div class="line">    end</div><div class="line">  end</div><div class="line"></div><div class="line">  private</div><div class="line"></div><div class="line">  def user_params</div><div class="line">    params.require(:user).permit(:username, :avatar)</div><div class="line">  end</div><div class="line">end</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>app/views/account/users/show.html.erb</code>ä¸­ï¼Œæ·»åŠ å¯†ç ä¿®æ”¹éƒ¨åˆ†ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line">........</div><div class="line">&lt;%= simple_form_for [:account, @user] do |f| %&gt;</div><div class="line"> ......</div><div class="line">  &lt;div class=&quot;my_password&quot;&gt;</div><div class="line">    &lt;h4&gt;ä¿®æ”¹å¯†ç ï¼š &lt;/h4&gt;</div><div class="line">    &lt;%= f.input :current_password, label: &quot;æ—§å¯†ç ï¼š&quot;, hint: false, error_html: &#123; id: &apos;password_error&apos;&#125; %&gt;</div><div class="line">    &lt;%= f.input :password, label: &quot;æ–°å¯†ç ï¼š&quot;, hint: false, error_html: &#123; id: &apos;password_error&apos;&#125; %&gt;</div><div class="line">    &lt;%= f.input :password_confirmation, label: &quot;å¯†ç ç¡®è®¤ï¼š&quot;%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;br&gt;</div><div class="line">  .......</div><div class="line">  &lt;div class=&quot;form-group&quot;&gt;</div><div class="line">    &lt;%= f.submit &quot;æ›´æ–°&quot;, class: &quot;btn btn-success&quot;%&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">&lt;% end %&gt;</div><div class="line">.......</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>app/controllers/account/users_controller.eb</code>ä¸­ï¼Œåšå¦‚ä¸‹ä¿®æ”¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line">def update</div><div class="line">  @user = current_user</div><div class="line">- if @user.update(user_params)</div><div class="line">-   redirect_to account_user_path, notice: &quot;ä¿¡æ¯æ›´æ–°æˆåŠŸ&quot;</div><div class="line">+  if @user.update_with_password(user_params)</div><div class="line">+     bypass_sign_in(@user)</div><div class="line">+     redirect_to account_user_path, notice: &quot;å¯†ç æ›´æ–°æˆåŠŸ&quot;</div><div class="line">+  elsif @user.update(user_params)</div><div class="line">+     redirect_to account_user_path, notice: &quot;ä¿¡æ¯æ›´æ–°æˆåŠŸ&quot;</div><div class="line">  else</div><div class="line">      render :edit</div><div class="line">  end</div><div class="line">end</div><div class="line"></div><div class="line">private</div><div class="line"></div><div class="line">def user_params</div><div class="line">-	params.require(:user).permit(:username, :avatar)</div><div class="line">+ params.require(:user).permit(:username, :avatar, :password, :password_confirmation)</div><div class="line">end</div></pre></td></tr></table></figure>
</li>
</ul>
<p>è¿™æ ·å°±OKå•¦ï¼Œå¯ä»¥åœ¨ä¸ªäººä¸­å¿ƒé¡µé¢ä¿®æ”¹å¯†ç ï¼Œä¿å­˜åé€€å‡ºï¼Œé‡æ–°ç™»é™†ï¼Œä¼šå‘ç°å¯†ç å·²ç»ä¿®æ”¹äº†ã€‚</p>
<p><strong>å‚è€ƒï¼š</strong></p>
<p><a href="https://github.com/plataformatec/devise/wiki/How-To:-Allow-users-to-edit-their-password" target="_blank" rel="external">how to allow user to edit their password</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://lupeipei.github.io/2017/10/03/web-together-build-7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Lucia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Lucia">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2017/10/03/web-together-build-7/" itemprop="url">
                  Togetherç½‘ç«™æ­å»ºä¹‹è¸©å‘ç³»åˆ—7
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">å‘è¡¨äº</span>
              
              <time title="åˆ›å»ºäº" itemprop="dateCreated datePublished" datetime="2017-10-03T07:08:45+08:00">
                2017-10-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">åˆ†ç±»äº</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/ROR/" itemprop="url" rel="index">
                    <span itemprop="name">ROR</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/03/web-together-build-7/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/03/web-together-build-7/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          

          

          

          

        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h4 id="å†™åœ¨å‰é¢"><a href="#å†™åœ¨å‰é¢" class="headerlink" title="å†™åœ¨å‰é¢"></a>å†™åœ¨å‰é¢</h4><p>è¿™æ˜¯åŠŸèƒ½å®ç°çš„ç¬¬å…­ç¯‡ï¼Œæ‰¯ä¸€æ‰¯<strong>å¦‚ä½•å®ä½œæ´»åŠ¨ç”³è¯·</strong>.</p>
<p>å®Œæ•´ä½œå“æºç åŠæ•ˆæœï¼Œçœ‹è¿™é‡Œ<a href="https://togetherisbetter.cn/" target="_blank" rel="external">ä½œå“ç½‘ç«™</a>,   <a href="https://github.com/Lupeipei/Together" target="_blank" rel="external">ä½œå“æºç </a>ã€‚</p>
<h4 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h4><ul>
<li><a href="https://lupeipei.github.io/2017/09/28/web-together-build-2/">ç»™æ´»åŠ¨æ·»åŠ æ”¶è—åŠŸèƒ½ï¼Œå¹¶ä½¿ç”¨Ajaxè¿›è¡Œä¼˜åŒ–</a></li>
<li><a href="https://lupeipei.github.io/2017/09/29/web-together-build-3/">ç»™æ´»åŠ¨Eventsæ·»åŠ åˆ†ç±»ç­›é€‰</a></li>
<li><a href="https://lupeipei.github.io/2017/09/30/web-together-build-4/">æ·»åŠ çœå¸‚è‡ªæ²»åŒºåœ°å€, å¹¶å®ç°çƒ­é—¨åŸå¸‚ç­›é€‰</a></li>
<li><a href="https://lupeipei.github.io/2017/10/01/web-together-build-5/">æ·»åŠ æ—¶é—´ç­›é€‰</a></li>
<li><a href="https://lupeipei.github.io/2017/10/02/web-together-build-6/">æ·»åŠ è¯„è®ºåŒºï¼Œå¹¶ä½¿ç”¨ajaxä¼˜åŒ–</a></li>
<li>å®ä½œæ´»åŠ¨ç”³è¯·</li>
<li><a href="https://lupeipei.github.io/2017/10/04/web-together-build-8/">åœ¨ä¸ªäººä¸­å¿ƒå®ä½œå¯†ç ä¿®æ”¹</a></li>
</ul>
<h4 id="æ­£æ–‡"><a href="#æ­£æ–‡" class="headerlink" title="æ­£æ–‡"></a>æ­£æ–‡</h4><p>å…·ä½“è¯´ï¼Œæ˜¯å®ä½œä»¥ä¸‹ä¸¤ä¸ªåŠŸèƒ½ï¼š</p>
<ul>
<li>ç”¨æˆ·å¯ç”³è¯·å‚ä¸æ´»åŠ¨<ul>
<li>å¦‚æœæ´»åŠ¨å·²è¿‡æœŸï¼Œåˆ™æ— æ³•ç”³è¯·ï¼Œæ˜¾ç¤ºå·²ç»“æŸï¼›</li>
<li>å¦‚æœäººæ•°å·²æ»¡ï¼Œåˆ™æ˜¾ç¤ºæ´»åŠ¨å·²ç»æ»¡å‘˜ï¼ŒæŠ¥åæˆªæ­¢ï¼›</li>
<li>æ—¢æœªè¿‡æœŸï¼Œä¹Ÿæ²¡æœ‰æ»¡å‘˜ï¼Œåˆ™ç”¨æˆ·å¯ç”³è¯·å‚ä¸æ´»åŠ¨ï¼›</li>
</ul>
</li>
</ul>
<ul>
<li>ç”¨æˆ·å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„ç”³è¯·åˆ—è¡¨</li>
</ul>
<p>ä¸€æ­¥æ­¥æ¥ï¼š</p>
<p>BTWï¼Œè¯·æ— è§†CSSéƒ¨åˆ†ï¼Œåªè®²å¦‚ä½•å®ä½œåŠŸèƒ½ã€‚</p>
<p><strong>Step1ã€ ç”¨æˆ·å¯ä»¥ç”³è¯·å‚ä¸æ´»åŠ¨</strong></p>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://ws1.sinaimg.cn/large/006tKfTcgy1fk0k6757yzg30yb0jyhdu.gif" alt=""></p>
<ul>
<li><p>æ–°å»ºmodel apply_eventï¼Œç»ˆç«¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rails g model apply_event user_id:integer event_id:integer</div></pre></td></tr></table></figure>
</li>
<li><p>å»ºç«‹apply_event, user, eventä¸‰è€…ä¹‹é—´çš„å…³ç³»:</p>
<ul>
<li><p>åœ¨<code>app/models/apply_event.rb</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">class ApplyEvent &lt; ApplicationRecord</div><div class="line"> + belongs_to :user</div><div class="line"> + belongs_to :event</div><div class="line">end</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>app/models/event.rb</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line">has_many :apply_events</div><div class="line">has_many :appliers, :through =&gt; :apply_events, :source =&gt; :user</div><div class="line">......</div></pre></td></tr></table></figure>
</li>
<li><p>åœ¨<code>app/models/user.rb</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line">has_many :apply_events</div><div class="line">has_many :applied_events, through: :apply_events, source: :event</div><div class="line">......</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>ç”¨æˆ·å¯ä»¥ç”³è¯·å‚åŠ æ´»åŠ¨æˆ–å–æ¶ˆç”³è¯·</p>
<ul>
<li><p>åœ¨<code>app/models/user.rb</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line">def apply_already?(event)</div><div class="line">  applied_events.include?(event)</div><div class="line">end</div><div class="line"></div><div class="line">def apply!(event)</div><div class="line">  applied_events &lt;&lt; event</div><div class="line">end</div><div class="line"></div><div class="line">def cancel!(event)</div><div class="line">  applied_events.delete(event)</div><div class="line">end</div><div class="line">......</div></pre></td></tr></table></figure>
<p>â€‹</p>
</li>
<li><p>åœ¨<code>app/controllers/events_controller.rb</code>ä¸­æ·»åŠ ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class EventsController &lt; ApplicationController</div><div class="line">  ......</div><div class="line">  def apply</div><div class="line">    @event = Event.find(params[:id])</div><div class="line">    type = params[:type]</div><div class="line">    if type == &quot;apply&quot;</div><div class="line">      current_user.apply!(@event)</div><div class="line">    else type == &quot;cancel&quot;</div><div class="line">      current_user.cancel!(@event)</div><div class="line">    end</div><div class="line">    redirect_to :back</div><div class="line">  end</div><div class="line">  ......</div><div class="line">end</div></pre></td></tr></table></figure>
<p>ç”³è¯·å‚åŠ æ´»åŠ¨ï¼Œéœ€è¦ç”¨æˆ·åœ¨ç™»å½•çŠ¶æ€ä¸‹ï¼Œä¿®æ”¹<code>app/controllers/events_controller.rb</code>çš„<code>before_action :authenticate_user!</code>éƒ¨åˆ†ï¼ŒåŠ ä¸Šapply</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">- before_action :authenticate_user!, only: [:new, :create,.....]</div><div class="line">+ before_action :authenticate_user!, only: [:apply,:new, :create,.....]</div></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹<code>config/routes.rb</code>ï¼Œ æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> ......</div><div class="line"> resources :events do</div><div class="line">......</div><div class="line"> + put :apply, on: :member</div><div class="line"> end</div><div class="line"> ......</div></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹<code>app/views/events/show.html.erb</code>ï¼Œ æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line">&lt;% if @event.end_time &lt; Time.now %&gt;</div><div class="line">	&lt;label class=&quot;label label-default event-over&quot;&gt;æ´»åŠ¨å·²ç»“æŸ&lt;/label&gt;</div><div class="line">&lt;% elsif @event.appliers.count &gt;= @event.limited_num %&gt;</div><div class="line">	&lt;label class=&quot;label label-default event-over&quot;&gt;æ´»åŠ¨å·²æ»¡å‘˜&lt;/label&gt;</div><div class="line">&lt;% else %&gt;</div><div class="line">  &lt;% if current_user &amp;&amp; current_user.apply_already?(@event) %&gt;</div><div class="line">    &lt;%= link_to(&quot;å–æ¶ˆç”³è¯·&quot;, apply_event_path(@event, type: &quot;cancel&quot;), method: :put, class: &quot;btn btn-default event-apply&quot;)%&gt;</div><div class="line">  &lt;% else %&gt;</div><div class="line">    &lt;%= link_to(&quot;ç”³è¯·èµ´çº¦&quot;, apply_event_path(@event, type: &quot;apply&quot;), method: :put, class: &quot;btn btn-success event-apply&quot;)%&gt;</div><div class="line">  &lt;% end %&gt;</div><div class="line">&lt;% end %&gt;</div><div class="line">......</div></pre></td></tr></table></figure>
<p>ç°åœ¨çœ‹çœ‹ï¼Œå¯ä»¥å®ç°ç”³è¯·åŠå–æ¶ˆç”³è¯·äº†ã€‚ä½†æ˜¯ï¼Œä½ å¾ˆå¿«å°±ä¼šå‘ç°ï¼Œç‚¹å‡»æŒ‰é’®åé¡µé¢ä¼šrefreshä¸€ä¸‹ï¼Œè¿™ä¸ªä¸å¥½ä¸å¥½ï¼Œæˆ‘ä»¬è¯·ä¸Šajaxã€‚</p>
</li>
</ul>
</li>
<li><p>ä½¿ç”¨ajaxæ¥ä¼˜åŒ–</p>
<ul>
<li><p>æ–°å¢<code>app/views/events/_apply.html.erb</code>, <code>app/views/events/apply.js.erb</code></p>
</li>
<li><p>ä¿®æ”¹<code>app/views/events/show.html.erb</code>, ç»™è¿™å—è¦åŠ¨æ€å˜åŒ–çš„åŒºåŸŸåŠ ä¸ŠID</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">+ &lt;div class=&quot;col-md-2&quot; id=&quot;apply-&lt;%= @event.id %&gt;&quot;&gt;</div><div class="line">-              &lt;% if @event.end_time &lt; Time.now %&gt;</div><div class="line">-              	&lt;label class=&quot;label label-default event-over&quot;&gt;æ´»åŠ¨å·²ç»“æŸ&lt;/label&gt;</div><div class="line">-              &lt;% elsif @event.appliers.count &gt;= @event.limited_num %&gt;</div><div class="line">-              	&lt;label class=&quot;label label-default event-over&quot;&gt;æ´»åŠ¨å·²æ»¡å‘˜&lt;/label&gt;</div><div class="line">-              &lt;% else %&gt;</div><div class="line">-                &lt;% if current_user &amp;&amp; current_user.apply_already?(@event) %&gt;</div><div class="line">-                  &lt;%= link_to(&quot;å–æ¶ˆç”³è¯·&quot;, apply_event_path(@event, type: &quot;cancel&quot;), method: :put, class: &quot;btn btn-default event-apply&quot;)%&gt;</div><div class="line">-                &lt;% else %&gt;</div><div class="line">-                  &lt;%= link_to(&quot;ç”³è¯·èµ´çº¦&quot;, apply_event_path(@event, type: &quot;apply&quot;), method: :put, class: &quot;btn btn-success event-apply&quot;)%&gt;</div><div class="line">-                &lt;% end %&gt;</div><div class="line">-              &lt;% end %&gt;</div><div class="line">+              &lt;%= render :partial =&gt; &quot;apply&quot;, :locals =&gt; &#123;:event =&gt; @event &#125;%&gt;</div><div class="line">+ &lt;/div&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¾‘<code>app/views/events/_apply.html.erb</code>, æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;% if event.end_time &lt; Time.now %&gt;</div><div class="line">  &lt;label class=&quot;label label-default event-over&quot;&gt;æ´»åŠ¨å·²ç»“æŸ&lt;/label&gt;</div><div class="line">&lt;% elsif event.appliers.count &gt;= event.limited_num %&gt;</div><div class="line">  &lt;label class=&quot;label label-default event-over&quot;&gt;æ´»åŠ¨å·²æ»¡å‘˜&lt;/label&gt;</div><div class="line">&lt;% else %&gt;</div><div class="line">  &lt;% if current_user &amp;&amp; current_user.apply_already?(event) %&gt;</div><div class="line">    &lt;%= link_to apply_event_path(event, type: &quot;cancel&quot;), method: :put, :remote =&gt; true do %&gt;</div><div class="line">    &lt;span class=&quot;btn btn-default event-apply&quot;&gt;å–æ¶ˆç”³è¯·&lt;/span&gt;</div><div class="line">    &lt;% end %&gt;</div><div class="line">  &lt;% else %&gt;</div><div class="line">    &lt;%= link_to apply_event_path(event, type: &quot;apply&quot;), method: :put, :remote =&gt; true do %&gt;</div><div class="line">    &lt;span class=&quot;btn btn-success event-apply&quot;&gt;ç”³è¯·èµ´çº¦&lt;/span&gt;</div><div class="line">    &lt;% end %&gt;</div><div class="line">  &lt;% end %&gt;</div><div class="line">&lt;% end %&gt;</div></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¾‘<code>app/views/events/apply.js.erb</code>, æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">str = &quot;&lt;%=j render :partial =&gt; &quot;apply&quot;, :locals =&gt; &#123;:event =&gt; @event &#125; %&gt;&quot;;</div><div class="line">$(&quot;#apply-&lt;%= @event.id %&gt;&quot;).html(str);</div></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¾‘<code>app/controllers/events_controller.rb</code>ï¼Œ æ‹¿æ‰applyçš„redirect_to</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> ......</div><div class="line"> def apply</div><div class="line">......</div><div class="line">   # redirect_to :back</div><div class="line"> end</div><div class="line"> ......</div></pre></td></tr></table></figure>
</li>
</ul>
<p>ç°åœ¨è¯•è¯•ï¼Œå¯ä»¥å¿«é€Ÿç”³è¯·ï¼Œå¿«é€Ÿå–æ¶ˆå•¦ï¼Œæ£’æ£’å“’ï¼ï¼</p>
</li>
</ul>
<p><strong>Step2ã€ ç”¨æˆ·å¯ä»¥æŸ¥çœ‹è‡ªå·±çš„ç”³è¯·åˆ—è¡¨</strong></p>
<p>æ•ˆæœå›¾ï¼š</p>
<p><img src="https://ws4.sinaimg.cn/large/006tKfTcgy1fk1chgct37g310b0gs7wh.gif" alt=""></p>
<p>è¿™éƒ¨åˆ†å°±æ¯”è¾ƒç®€å•å•¦ã€‚</p>
<ul>
<li><p>æ–°å¢controllerï¼Œç»ˆç«¯è¿è¡Œï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">rails g controller account::apply_events</div></pre></td></tr></table></figure>
</li>
<li><p>ä¿®æ”¹<code>config/routes.rb</code>ï¼Œ æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"> ......</div><div class="line"> namespace :account do</div><div class="line">......</div><div class="line"> + resources :apply_events</div><div class="line"> end</div><div class="line"> ......</div></pre></td></tr></table></figure>
</li>
<li><p>ç¼–è¾‘<code>app/controllers/account/apply_events_controller.rb</code>ï¼Œæ·»åŠ </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">class Account::ApplyEventsController &lt; ApplicationController</div><div class="line">  before_action :authenticate_user!</div><div class="line"></div><div class="line">  def index</div><div class="line">    @events = current_user.applied_events</div><div class="line">  end</div><div class="line">end</div></pre></td></tr></table></figure>
</li>
<li><p>æ–°å¢<code>app/views/account/apply_events/index.html.erb</code>, æ·»åŠ å¦‚ä¸‹ä»£ç ï¼š</p>
</li>
</ul>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line">&lt;h1 class=&quot;text-center&quot;&gt;æˆ‘çš„ç”³è¯·&lt;/h1&gt;</div><div class="line"></div><div class="line">&lt;div class=&quot;col-md-10 col-md-offset-1&quot; style=&quot;margin-top: 20px;&quot;&gt;</div><div class="line">  &lt;table class=&quot;table table-bordered&quot;&gt;</div><div class="line">    &lt;thead&gt;</div><div class="line">      &lt;tr&gt;</div><div class="line">        &lt;th&gt;æ´»åŠ¨åç§°&lt;/th&gt;</div><div class="line">        &lt;th&gt;å¼€å§‹æ—¶é—´&lt;/th&gt;</div><div class="line">        &lt;th&gt;ç»“æŸæ—¶é—´&lt;/th&gt;</div><div class="line">        &lt;th&gt;åœ°ç‚¹&lt;/th&gt;</div><div class="line">        &lt;th&gt;ä¸»åŠæ–¹&lt;/th&gt;</div><div class="line">        &lt;th&gt;ç±»åˆ«&lt;/th&gt;</div><div class="line">        &lt;th&gt;äººæ•°é™é¢&lt;/th&gt;</div><div class="line">        &lt;th&gt;å‰©ä½™åé¢&lt;/th&gt;</div><div class="line">        &lt;th&gt;çŠ¶æ€&lt;/th&gt;</div><div class="line">      &lt;/tr&gt;</div><div class="line">    &lt;/thead&gt;</div><div class="line">    &lt;tbody&gt;</div><div class="line">      &lt;% @events.each do |event| %&gt;</div><div class="line">        &lt;tr&gt;</div><div class="line">          &lt;td&gt;</div><div class="line">            &lt;% link_to event_path(event)%&gt;</div><div class="line">             &lt;% if event.logo.present? %&gt;</div><div class="line">              &lt;%= link_to image_tag(event.logo.thumb.url, class:&quot;event_logo_sm&quot;)%&gt;</div><div class="line">            &lt;% else %&gt;</div><div class="line">              &lt;%= link_to image_tag(&quot;http://placehold.it/100x100&amp;text=No Pic&quot;, class: &quot;event_logo_sm&quot;)%&gt;</div><div class="line">            &lt;% end %&gt;</div><div class="line">            &lt;%= link_to(event.title, event_path(event)) %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= event.start_time %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= event.end_time %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= event.address %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= event.sponsor %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= event.category.name %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= event.limited_num %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= event.limited_num - event.appliers.count %&gt;&lt;/td&gt;</div><div class="line">          &lt;td&gt;&lt;%= t(event.status, :scope =&gt; &quot;event.status&quot;) %&gt;&lt;/td&gt;</div><div class="line">        &lt;/tr&gt;</div><div class="line">      &lt;% end %&gt;</div><div class="line">    &lt;/tbody&gt;</div><div class="line">  &lt;/table&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line"></div><div class="line">&lt;!-- åˆ†é¡µ --&gt;</div><div class="line">&lt;div class=&quot;text-center&quot;&gt;</div><div class="line">  &lt;%= will_paginate @events, renderer: BootstrapPagination::Rails, :previous_label =&gt; &apos;ä¸Šä¸€é¡µ&apos;, :next_label =&gt; &apos;ä¸‹ä¸€é¡µ&apos; %&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<ul>
<li><p>ç¼–è¾‘<code>app/views/common/_navbar.html.erb</code>ï¼ŒåŠ ä¸Š<strong>æˆ‘çš„ç”³è¯·</strong>å…¥å£ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">......</div><div class="line">+ &lt;li&gt;&lt;%= link_to(&quot; æˆ‘çš„ç”³è¯·&quot;,account_apply_events_path(current_user), class: &quot;btn btn-default&quot;)%&gt;&lt;/li&gt;</div><div class="line">......</div></pre></td></tr></table></figure>
</li>
</ul>
<p>è¯•è¯•çœ‹ï¼Œå¯ä»¥å•¦ï¼</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.jpg"
               alt="Lucia" />
          <p class="site-author-name" itemprop="name">Lucia</p>
           
              <p class="site-description motion-element" itemprop="description">Learning is doing</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">57</span>
                <span class="site-state-item-name">æ—¥å¿—</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-categories">
              <a href="/categories/index.html">
                <span class="site-state-item-count">17</span>
                <span class="site-state-item-name">åˆ†ç±»</span>
              </a>
            </div>
          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">23</span>
                <span class="site-state-item-name">æ ‡ç­¾</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/Lupeipei" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
              <span class="links-of-author-item">
                <a href="https://www.facebook.com/Luciapeipei" target="_blank" title="Facebook">
                  
                    <i class="fa fa-fw fa-facebook"></i>
                  
                  Facebook
                </a>
              </span>
            
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lucia</span>
</div>


<div class="powered-by">
  ç”± <a class="theme-link" href="https://hexo.io">Hexo</a> å¼ºåŠ›é©±åŠ¨
</div>

<div class="theme-info">
  ä¸»é¢˜ -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>


        
<div class="busuanzi-count">
  <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
      
    </span>
  

  
    <span class="site-pv">
      <i class="fa fa-eye"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
      
    </span>
  
</div>


        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  






  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.0"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.0"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.0"></script>



  


  

    
      <script id="dsq-count-scr" src="https://https-lupeipei-github-io.disqus.com/count.js" async></script>
    

    

  




	





  





  





  






  





  

  

  

  

</body>
</html>
